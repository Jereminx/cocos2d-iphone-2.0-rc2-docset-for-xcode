<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<title>cocos2d-iphone-2.1-beta4: CCGLProgram Class Reference</title>

<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>

</head>
<body>
<div id="top"><!-- do not remove this div! -->


<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  
  <td id="projectlogo"><img alt="Logo" src="Icon.png"/></td>
  
  
  <td style="padding-left: 0.5em;">
   <div id="projectname">cocos2d-iphone-2.1-beta4
   &#160;<span id="projectnumber">2.1-beta4</span>
   </div>
   <div id="projectbrief">zhxubing@gmail.com</div>
  </td>
  
  
  
 </tr>
 </tbody>
</table>
</div>

<!-- Generated by Doxygen 1.8.0 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="classes.html"><span>Class&#160;Index</span></a></li>
      <li><a href="hierarchy.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
</div>
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
  initNavTree('interface_c_c_g_l_program.html','');
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&#160;</span>Properties</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(10)"><span class="SelectionMark">&#160;</span>Friends</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(11)"><span class="SelectionMark">&#160;</span>Defines</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-attribs">Public Attributes</a> &#124;
<a href="#pro-attribs">Protected Attributes</a> &#124;
<a href="#properties">Properties</a>  </div>
  <div class="headertitle">
<div class="title">CCGLProgram Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p><code>#import &lt;<a class="el" href="_c_c_g_l_program_8h_source.html">CCGLProgram.h</a>&gt;</code></p>
<div class="dynheader">
Inheritance diagram for CCGLProgram:</div>
<div class="dyncontent">
 <div class="center">
  <img src="interface_c_c_g_l_program.png" usemap="#CCGLProgram_map" alt=""/>
  <map id="CCGLProgram_map" name="CCGLProgram_map">
<area href="class_n_s_object.html" alt="NSObject" shape="rect" coords="0,0,94,24"/>
</map>
 </div></div>

<p><a href="class_c_c_g_l_program-members.html">List of all members.</a></p>
<table class="memberdecls">
<tr><td colspan="2"><h2><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a196edfd2692a59302aac9b13bff1cbee"><td class="memItemLeft" align="right" valign="top">(id)&#160;</td><td class="memItemRight" valign="bottom">- <a class="el" href="interface_c_c_g_l_program.html#a196edfd2692a59302aac9b13bff1cbee">initWithVertexShaderByteArray:fragmentShaderByteArray:</a></td></tr>
<tr class="memitem:ade25f9a8a3e0f6fda06e0326c239b877"><td class="memItemLeft" align="right" valign="top">(id)&#160;</td><td class="memItemRight" valign="bottom">- <a class="el" href="interface_c_c_g_l_program.html#ade25f9a8a3e0f6fda06e0326c239b877">initWithVertexShaderFilename:fragmentShaderFilename:</a></td></tr>
<tr class="memitem:a5148246bb5931a47e07eafe9b8d3b891"><td class="memItemLeft" align="right" valign="top">(void)&#160;</td><td class="memItemRight" valign="bottom">- <a class="el" href="interface_c_c_g_l_program.html#a5148246bb5931a47e07eafe9b8d3b891">addAttribute:index:</a></td></tr>
<tr class="memitem:a595071a9b680374e23f1cd93b5b1fda7"><td class="memItemLeft" align="right" valign="top">(BOOL)&#160;</td><td class="memItemRight" valign="bottom">- <a class="el" href="interface_c_c_g_l_program.html#a595071a9b680374e23f1cd93b5b1fda7">link</a></td></tr>
<tr class="memitem:a10ff7a477f3cf4a4085b415f88921e01"><td class="memItemLeft" align="right" valign="top">(void)&#160;</td><td class="memItemRight" valign="bottom">- <a class="el" href="interface_c_c_g_l_program.html#a10ff7a477f3cf4a4085b415f88921e01">use</a></td></tr>
<tr class="memitem:a9ad6bb937bd9ca7c8bb0dbfd21b3cd8a"><td class="memItemLeft" align="right" valign="top">(void)&#160;</td><td class="memItemRight" valign="bottom">- <a class="el" href="interface_c_c_g_l_program.html#a9ad6bb937bd9ca7c8bb0dbfd21b3cd8a">updateUniforms</a></td></tr>
<tr class="memitem:a98528f310d68740dfc4a1f8ec6ad063c"><td class="memItemLeft" align="right" valign="top">(void)&#160;</td><td class="memItemRight" valign="bottom">- <a class="el" href="interface_c_c_g_l_program.html#a98528f310d68740dfc4a1f8ec6ad063c">setUniformLocation:withI1:</a></td></tr>
<tr class="memitem:a91c55a8808fdb0dde12aaa07fd7762f9"><td class="memItemLeft" align="right" valign="top">(void)&#160;</td><td class="memItemRight" valign="bottom">- <a class="el" href="interface_c_c_g_l_program.html#a91c55a8808fdb0dde12aaa07fd7762f9">setUniformLocation:withF1:</a></td></tr>
<tr class="memitem:aa4d91f3af30a817a0a9bc96353e10900"><td class="memItemLeft" align="right" valign="top">(void)&#160;</td><td class="memItemRight" valign="bottom">- <a class="el" href="interface_c_c_g_l_program.html#aa4d91f3af30a817a0a9bc96353e10900">setUniformLocation:withF1:f2:</a></td></tr>
<tr class="memitem:aac05353cce6f4f8dba00eab5029c3fb2"><td class="memItemLeft" align="right" valign="top">(void)&#160;</td><td class="memItemRight" valign="bottom">- <a class="el" href="interface_c_c_g_l_program.html#aac05353cce6f4f8dba00eab5029c3fb2">setUniformLocation:withF1:f2:f3:</a></td></tr>
<tr class="memitem:a65c5d76b225f41939489c846071c3a06"><td class="memItemLeft" align="right" valign="top">(void)&#160;</td><td class="memItemRight" valign="bottom">- <a class="el" href="interface_c_c_g_l_program.html#a65c5d76b225f41939489c846071c3a06">setUniformLocation:withF1:f2:f3:f4:</a></td></tr>
<tr class="memitem:a2938f2e5f966e6c58155954c9b942173"><td class="memItemLeft" align="right" valign="top">(void)&#160;</td><td class="memItemRight" valign="bottom">- <a class="el" href="interface_c_c_g_l_program.html#a2938f2e5f966e6c58155954c9b942173">setUniformLocation:with2fv:count:</a></td></tr>
<tr class="memitem:a6fb1eafbc2ff546d3c7f804448b9551c"><td class="memItemLeft" align="right" valign="top">(void)&#160;</td><td class="memItemRight" valign="bottom">- <a class="el" href="interface_c_c_g_l_program.html#a6fb1eafbc2ff546d3c7f804448b9551c">setUniformLocation:with3fv:count:</a></td></tr>
<tr class="memitem:a7ac9cdbed7bd66436f20b0f42edb6e06"><td class="memItemLeft" align="right" valign="top">(void)&#160;</td><td class="memItemRight" valign="bottom">- <a class="el" href="interface_c_c_g_l_program.html#a7ac9cdbed7bd66436f20b0f42edb6e06">setUniformLocation:with4fv:count:</a></td></tr>
<tr class="memitem:ae818b6b75b4682f5b6ed8c41a66e83d7"><td class="memItemLeft" align="right" valign="top">(void)&#160;</td><td class="memItemRight" valign="bottom">- <a class="el" href="interface_c_c_g_l_program.html#ae818b6b75b4682f5b6ed8c41a66e83d7">setUniformLocation:withMatrix4fv:count:</a></td></tr>
<tr class="memitem:ab7d2c467cf1e28fbb8c28d352fc1bbb7"><td class="memItemLeft" align="right" valign="top">(void)&#160;</td><td class="memItemRight" valign="bottom">- <a class="el" href="interface_c_c_g_l_program.html#ab7d2c467cf1e28fbb8c28d352fc1bbb7">setUniformsForBuiltins</a></td></tr>
<tr class="memitem:a71972dcb45864fe136839f8c70ddbf29"><td class="memItemLeft" align="right" valign="top">((__deprecated__)&#160;</td><td class="memItemRight" valign="bottom">- <a class="el" href="interface_c_c_g_l_program.html#a71972dcb45864fe136839f8c70ddbf29">__attribute__</a></td></tr>
<tr class="memitem:a9425ba6c62e5b66a82c9b6259643b8a5"><td class="memItemLeft" align="right" valign="top">(NSString *)&#160;</td><td class="memItemRight" valign="bottom">- <a class="el" href="interface_c_c_g_l_program.html#a9425ba6c62e5b66a82c9b6259643b8a5">vertexShaderLog</a></td></tr>
<tr class="memitem:a22a3e99e7645c1f523438f5a022bb2ce"><td class="memItemLeft" align="right" valign="top">(NSString *)&#160;</td><td class="memItemRight" valign="bottom">- <a class="el" href="interface_c_c_g_l_program.html#a22a3e99e7645c1f523438f5a022bb2ce">fragmentShaderLog</a></td></tr>
<tr class="memitem:aa722d7c2b1d445224d6471c19ee3573b"><td class="memItemLeft" align="right" valign="top">(NSString *)&#160;</td><td class="memItemRight" valign="bottom">- <a class="el" href="interface_c_c_g_l_program.html#aa722d7c2b1d445224d6471c19ee3573b">programLog</a></td></tr>
<tr><td colspan="2"><h2><a name="pub-attribs"></a>
Public Attributes</h2></td></tr>
<tr class="memitem:a06d7d29e3aff71a407d7f1b0a7fb885a"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a06d7d29e3aff71a407d7f1b0a7fb885a"></a>
GLuint&#160;</td><td class="memItemRight" valign="bottom"><b>program_</b></td></tr>
<tr class="memitem:a0da74d40b50b277879762d4218a7469e"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a0da74d40b50b277879762d4218a7469e"></a>
GLuint&#160;</td><td class="memItemRight" valign="bottom"><b>vertShader_</b></td></tr>
<tr class="memitem:a662dd6af1ca6bc3aafda4e04ff142e6d"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a662dd6af1ca6bc3aafda4e04ff142e6d"></a>
GLuint&#160;</td><td class="memItemRight" valign="bottom"><b>fragShader_</b></td></tr>
<tr class="memitem:a669a319b6978d213a81f4e47140801a9"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a669a319b6978d213a81f4e47140801a9"></a>
GLint&#160;</td><td class="memItemRight" valign="bottom"><b>uniforms_</b> [kCCUniform_MAX]</td></tr>
<tr class="memitem:ac025933cc3fb7aea91dbf441cf32a90f"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ac025933cc3fb7aea91dbf441cf32a90f"></a>
BOOL&#160;</td><td class="memItemRight" valign="bottom"><b>usesTime_</b></td></tr>
<tr><td colspan="2"><h2><a name="pro-attribs"></a>
Protected Attributes</h2></td></tr>
<tr class="memitem:a79baa793f705c8391af7807c2578375e"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a79baa793f705c8391af7807c2578375e"></a>
struct <a class="el" href="struct__hash_uniform_entry.html">_hashUniformEntry</a> *&#160;</td><td class="memItemRight" valign="bottom"><b>hashForUniforms_</b></td></tr>
<tr><td colspan="2"><h2><a name="properties"></a>
Properties</h2></td></tr>
<tr class="memitem:a810fd3dc4113ca3f1f648ed12b488282"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a810fd3dc4113ca3f1f648ed12b488282"></a>
GLuint&#160;</td><td class="memItemRight" valign="bottom"><b>program</b></td></tr>
</table>
<hr/><a name="details" id="details"></a><h2>Detailed Description</h2>
<div class="textblock"><p><a class="el" href="interface_c_c_g_l_program.html">CCGLProgram</a> Class that implements a glProgram</p>
<dl class="section since"><dt>Since:</dt><dd>v2.0.0 </dd></dl>
</div><hr/><h2>Member Function Documentation</h2>
<a class="anchor" id="a71972dcb45864fe136839f8c70ddbf29"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">- ((__deprecated__) <a class="el" href="struct____attribute____.html">__attribute__</a> </td>
          <td></td>
          <td class="paramname"></td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Deprecated alias for setUniformsForBuiltins </p>

</div>
</div>
<a class="anchor" id="a5148246bb5931a47e07eafe9b8d3b891"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">- (void) addAttribute: </td>
          <td></td>
          <td class="paramtype">(NSString *)&#160;</td>
          <td class="paramname"><em>attributeName</em></td>
        </tr>
        <tr>
          <td class="paramkey">index:</td>
          <td></td>
          <td class="paramtype">(GLuint)&#160;</td>
          <td class="paramname"><em>index</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>It will add a new attribute to the shader </p>

<p>Referenced by <a class="el" href="interface_c_c_shader_cache.html#a641a9ae1e8fdac164a5be2c39905b569">CCShaderCache::loadDefaultShaders</a>.</p>
<div class="fragment"><pre class="fragment">                    :(NSString *)attributeName index:(GLuint)index
{
        glBindAttribLocation(program_,
                                                 index,
                                                 [attributeName UTF8String]);
}
</pre></div>
</div>
</div>
<a class="anchor" id="a22a3e99e7645c1f523438f5a022bb2ce"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">- (NSString *) <a class="el" href="interface_c_c_g_l_program.html#a22a3e99e7645c1f523438f5a022bb2ce">fragmentShaderLog</a> </td>
          <td></td>
          <td class="paramname"></td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>returns the fragmentShader error log </p>
<div class="fragment"><pre class="fragment">{
        <span class="keywordflow">return</span> [<span class="keyword">self</span> logForOpenGLObject:fragShader_
                                           infoCallback:(GLInfoFunction)&amp;glGetShaderiv
                                                        logFunc:(GLLogFunction)&amp;glGetShaderInfoLog];
}
</pre></div>
</div>
</div>
<a class="anchor" id="a196edfd2692a59302aac9b13bff1cbee"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">- (id) initWithVertexShaderByteArray: </td>
          <td></td>
          <td class="paramtype">(const GLchar*)&#160;</td>
          <td class="paramname"><em>vShaderByteArray</em></td>
        </tr>
        <tr>
          <td class="paramkey">fragmentShaderByteArray:</td>
          <td></td>
          <td class="paramtype">(const GLchar*)&#160;</td>
          <td class="paramname"><em>fShaderByteArray</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Initializes the <a class="el" href="interface_c_c_g_l_program.html">CCGLProgram</a> with a vertex and fragment with bytes array </p>

<p>Referenced by <a class="el" href="interface_c_c_g_l_program.html#ade25f9a8a3e0f6fda06e0326c239b877">initWithVertexShaderFilename:fragmentShaderFilename:</a>.</p>
<div class="fragment"><pre class="fragment">                                   :(<span class="keyword">const</span> GLchar *)vShaderByteArray fragmentShaderByteArray:(<span class="keyword">const</span> GLchar *)fShaderByteArray
{
    <span class="keywordflow">if</span> ((<span class="keyword">self</span> = [super init]) )
    {
        program_ = glCreateProgram();
                
                vertShader_ = fragShader_ = 0;
                
                <span class="keywordflow">if</span>( vShaderByteArray ) {
                        
                        <span class="keywordflow">if</span> (![<span class="keyword">self</span> compileShader:&amp;vertShader_
                                                                type:GL_VERTEX_SHADER
                                                   byteArray:vShaderByteArray] )
                                CCLOG(<span class="stringliteral">@&quot;cocos2d: ERROR: Failed to compile vertex shader&quot;</span>);
                }
                
        <span class="comment">// Create and compile fragment shader</span>
                <span class="keywordflow">if</span>( fShaderByteArray ) {
                        <span class="keywordflow">if</span> (![<span class="keyword">self</span> compileShader:&amp;fragShader_
                                                                type:GL_FRAGMENT_SHADER
                                                   byteArray:fShaderByteArray] )

                                CCLOG(<span class="stringliteral">@&quot;cocos2d: ERROR: Failed to compile fragment shader&quot;</span>);
                }
                
                <span class="keywordflow">if</span>( vertShader_ )
                        glAttachShader(program_, vertShader_);
                
                <span class="keywordflow">if</span>( fragShader_ )
                        glAttachShader(program_, fragShader_);
                
                hashForUniforms_ = NULL;
    }
        
    <span class="keywordflow">return</span> <span class="keyword">self</span>;
}
</pre></div>
</div>
</div>
<a class="anchor" id="ade25f9a8a3e0f6fda06e0326c239b877"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">- (id) initWithVertexShaderFilename: </td>
          <td></td>
          <td class="paramtype">(NSString *)&#160;</td>
          <td class="paramname"><em>vShaderFilename</em></td>
        </tr>
        <tr>
          <td class="paramkey">fragmentShaderFilename:</td>
          <td></td>
          <td class="paramtype">(NSString *)&#160;</td>
          <td class="paramname"><em>fShaderFilename</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Initializes the <a class="el" href="interface_c_c_g_l_program.html">CCGLProgram</a> with a vertex and fragment with contents of filenames </p>
<div class="fragment"><pre class="fragment">                                  :(NSString *)vShaderFilename fragmentShaderFilename:(NSString *)fShaderFilename
{
        
        <span class="keyword">const</span> GLchar * vertexSource = (GLchar*) [[NSString stringWithContentsOfFile:[[<a class="code" href="class_c_c_file_utils.html">CCFileUtils</a> sharedFileUtils] fullPathFromRelativePathIgnoringResolutions:vShaderFilename] encoding:NSUTF8StringEncoding error:nil] UTF8String];
        <span class="keyword">const</span> GLchar * fragmentSource = (GLchar*) [[NSString stringWithContentsOfFile:[[<a class="code" href="class_c_c_file_utils.html">CCFileUtils</a> sharedFileUtils] fullPathFromRelativePathIgnoringResolutions:fShaderFilename] encoding:NSUTF8StringEncoding error:nil] UTF8String];

        <span class="keywordflow">return</span> [<span class="keyword">self</span> initWithVertexShaderByteArray:vertexSource fragmentShaderByteArray:fragmentSource];
}
</pre></div>
</div>
</div>
<a class="anchor" id="a595071a9b680374e23f1cd93b5b1fda7"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">- (BOOL) <a class="el" href="interface_c_c_g_l_program.html#a595071a9b680374e23f1cd93b5b1fda7">link</a> </td>
          <td></td>
          <td class="paramname"></td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>links the glProgram </p>

<p>Referenced by <a class="el" href="interface_c_c_shader_cache.html#a641a9ae1e8fdac164a5be2c39905b569">CCShaderCache::loadDefaultShaders</a>.</p>
<div class="fragment"><pre class="fragment">{
    NSAssert(program_ != 0, <span class="stringliteral">@&quot;Cannot link invalid program&quot;</span>);
        
    GLint status = GL_TRUE;
    glLinkProgram(program_);
        
    <span class="keywordflow">if</span> (vertShader_)
        glDeleteShader(vertShader_);

    <span class="keywordflow">if</span> (fragShader_)
        glDeleteShader(fragShader_);

    vertShader_ = fragShader_ = 0;
        
<span class="preprocessor">#if DEBUG</span>
<span class="preprocessor"></span>    glGetProgramiv(program_, GL_LINK_STATUS, &amp;status);
    NSString* log = <span class="keyword">self</span>.programLog;
        
    <span class="keywordflow">if</span> (status == GL_FALSE) {
        NSLog(<span class="stringliteral">@&quot;cocos2d: ERROR: Failed to link program: %i - %@&quot;</span>, program_, log);
        <a class="code" href="cc_g_l_state_cache_8h.html#ac28fe4b928ce2b80c8106c9f17db749b">ccGLDeleteProgram</a>( program_ );
        program_ = 0;
    }
<span class="preprocessor">#endif</span>
<span class="preprocessor"></span>        
    <span class="keywordflow">return</span> (status == GL_TRUE);
}
</pre></div>
</div>
</div>
<a class="anchor" id="aa722d7c2b1d445224d6471c19ee3573b"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">- (NSString *) <a class="el" href="interface_c_c_g_l_program.html#aa722d7c2b1d445224d6471c19ee3573b">programLog</a> </td>
          <td></td>
          <td class="paramname"></td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>returns the program error log </p>
<div class="fragment"><pre class="fragment">{
        <span class="keywordflow">return</span> [<span class="keyword">self</span> logForOpenGLObject:program_
                                           infoCallback:(GLInfoFunction)&amp;glGetProgramiv
                                                        logFunc:(GLLogFunction)&amp;glGetProgramInfoLog];
}
</pre></div>
</div>
</div>
<a class="anchor" id="a2938f2e5f966e6c58155954c9b942173"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">- (void) setUniformLocation: </td>
          <td></td>
          <td class="paramtype">(GLint)&#160;</td>
          <td class="paramname"><em>location</em></td>
        </tr>
        <tr>
          <td class="paramkey">with2fv:</td>
          <td></td>
          <td class="paramtype">(GLfloat*)&#160;</td>
          <td class="paramname"><em>floats</em></td>
        </tr>
        <tr>
          <td class="paramkey">count:</td>
          <td></td>
          <td class="paramtype">(NSUInteger)&#160;</td>
          <td class="paramname"><em>numberOfArrays</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>calls glUniform2fv only if the values are different than the previous call for this same shader program. </p>
<div class="fragment"><pre class="fragment">                          :(GLint)location with2fv:(GLfloat*)floats count:(NSUInteger)numberOfArrays
{
        BOOL updated =  [<span class="keyword">self</span> updateUniformLocation:location withData:floats sizeOfData:sizeof(float)*2*numberOfArrays];
        
        <span class="keywordflow">if</span>( updated )
                glUniform2fv( (GLint)location, (GLsizei)numberOfArrays, floats );
}
</pre></div>
</div>
</div>
<a class="anchor" id="a6fb1eafbc2ff546d3c7f804448b9551c"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">- (void) setUniformLocation: </td>
          <td></td>
          <td class="paramtype">(GLint)&#160;</td>
          <td class="paramname"><em>location</em></td>
        </tr>
        <tr>
          <td class="paramkey">with3fv:</td>
          <td></td>
          <td class="paramtype">(GLfloat*)&#160;</td>
          <td class="paramname"><em>floats</em></td>
        </tr>
        <tr>
          <td class="paramkey">count:</td>
          <td></td>
          <td class="paramtype">(NSUInteger)&#160;</td>
          <td class="paramname"><em>numberOfArrays</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>calls glUniform3fv only if the values are different than the previous call for this same shader program. </p>
<div class="fragment"><pre class="fragment">                          :(GLint)location with3fv:(GLfloat*)floats count:(NSUInteger)numberOfArrays
{
        BOOL updated =  [<span class="keyword">self</span> updateUniformLocation:location withData:floats sizeOfData:sizeof(float)*3*numberOfArrays];
        
        <span class="keywordflow">if</span>( updated )
                glUniform3fv( (GLint)location, (GLsizei)numberOfArrays, floats );
}
</pre></div>
</div>
</div>
<a class="anchor" id="a7ac9cdbed7bd66436f20b0f42edb6e06"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">- (void) setUniformLocation: </td>
          <td></td>
          <td class="paramtype">(GLint)&#160;</td>
          <td class="paramname"><em>location</em></td>
        </tr>
        <tr>
          <td class="paramkey">with4fv:</td>
          <td></td>
          <td class="paramtype">(GLvoid*)&#160;</td>
          <td class="paramname"><em>floats</em></td>
        </tr>
        <tr>
          <td class="paramkey">count:</td>
          <td></td>
          <td class="paramtype">(NSUInteger)&#160;</td>
          <td class="paramname"><em>numberOfArrays</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>calls glUniform4fv only if the values are different than the previous call for this same shader program. </p>

<p>Referenced by <a class="el" href="_c_c_drawing_primitives_8h.html#a6679f5e86cdfab9b4290c2f636d9c7b3">ccDrawCardinalSpline()</a>, <a class="el" href="_c_c_drawing_primitives_8h.html#a34d0ad7b8f0d0dbd5fb874d607d69f1d">ccDrawCircle()</a>, <a class="el" href="_c_c_drawing_primitives_8h.html#a5a391711c0aa611a06167bdd7637571f">ccDrawCubicBezier()</a>, <a class="el" href="_c_c_drawing_primitives_8h.html#a26a514883252b7cd5461fa8472309416">ccDrawLine()</a>, <a class="el" href="_c_c_drawing_primitives_8h.html#a049d8eec041179d6e70f2428d8ebf248">ccDrawPoint()</a>, <a class="el" href="_c_c_drawing_primitives_8h.html#ad545cd6e2e2350e278d8eeafcb8c3762">ccDrawPoints()</a>, <a class="el" href="_c_c_drawing_primitives_8h.html#ac0b6ec146da9061bfb0c29e3dd933c1a">ccDrawPoly()</a>, <a class="el" href="_c_c_drawing_primitives_8h.html#ae8eca0753e76b604d747dcb9f8c74cb4">ccDrawQuadBezier()</a>, and <a class="el" href="_c_c_drawing_primitives_8h.html#a1ee08ff6fe6d04c98bc594d769ec847c">ccDrawSolidPoly()</a>.</p>
<div class="fragment"><pre class="fragment">                          :(GLint)location with4fv:(GLvoid*)floats count:(NSUInteger)numberOfArrays
{
        BOOL updated =  [<span class="keyword">self</span> updateUniformLocation:location withData:floats sizeOfData:sizeof(float)*4*numberOfArrays];
        
        <span class="keywordflow">if</span>( updated )
                glUniform4fv( (GLint)location, (GLsizei)numberOfArrays, floats );
}
</pre></div>
</div>
</div>
<a class="anchor" id="a91c55a8808fdb0dde12aaa07fd7762f9"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">- (void) setUniformLocation: </td>
          <td></td>
          <td class="paramtype">(GLint)&#160;</td>
          <td class="paramname"><em>location</em></td>
        </tr>
        <tr>
          <td class="paramkey">withF1:</td>
          <td></td>
          <td class="paramtype">(GLfloat)&#160;</td>
          <td class="paramname"><em>f1</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>calls glUniform1f only if the values are different than the previous call for this same shader program. </p>

<p>Referenced by <a class="el" href="_c_c_drawing_primitives_8h.html#a049d8eec041179d6e70f2428d8ebf248">ccDrawPoint()</a>, and <a class="el" href="_c_c_drawing_primitives_8h.html#ad545cd6e2e2350e278d8eeafcb8c3762">ccDrawPoints()</a>.</p>
<div class="fragment"><pre class="fragment">                          :(GLint)location withF1:(GLfloat)f1
{
        BOOL updated =  [<span class="keyword">self</span> updateUniformLocation:location withData:&amp;f1 sizeOfData:sizeof(f1)*1];
        
        <span class="keywordflow">if</span>( updated )
                glUniform1f( (GLint)location, f1);
}
</pre></div>
</div>
</div>
<a class="anchor" id="aa4d91f3af30a817a0a9bc96353e10900"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">- (void) setUniformLocation: </td>
          <td></td>
          <td class="paramtype">(GLint)&#160;</td>
          <td class="paramname"><em>location</em></td>
        </tr>
        <tr>
          <td class="paramkey">withF1:</td>
          <td></td>
          <td class="paramtype">(GLfloat)&#160;</td>
          <td class="paramname"><em>f1</em></td>
        </tr>
        <tr>
          <td class="paramkey">f2:</td>
          <td></td>
          <td class="paramtype">(GLfloat)&#160;</td>
          <td class="paramname"><em>f2</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>calls glUniform2f only if the values are different than the previous call for this same shader program. </p>
<div class="fragment"><pre class="fragment">                          :(GLint)location withF1:(GLfloat)f1 f2:(GLfloat)f2
{
        GLfloat floats[2] = {f1,f2};
        BOOL updated =  [<span class="keyword">self</span> updateUniformLocation:location withData:floats sizeOfData:sizeof(floats)];
        
        <span class="keywordflow">if</span>( updated )
                glUniform2f( (GLint)location, f1, f2);
}
</pre></div>
</div>
</div>
<a class="anchor" id="aac05353cce6f4f8dba00eab5029c3fb2"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">- (void) setUniformLocation: </td>
          <td></td>
          <td class="paramtype">(GLint)&#160;</td>
          <td class="paramname"><em>location</em></td>
        </tr>
        <tr>
          <td class="paramkey">withF1:</td>
          <td></td>
          <td class="paramtype">(GLfloat)&#160;</td>
          <td class="paramname"><em>f1</em></td>
        </tr>
        <tr>
          <td class="paramkey">f2:</td>
          <td></td>
          <td class="paramtype">(GLfloat)&#160;</td>
          <td class="paramname"><em>f2</em></td>
        </tr>
        <tr>
          <td class="paramkey">f3:</td>
          <td></td>
          <td class="paramtype">(GLfloat)&#160;</td>
          <td class="paramname"><em>f3</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>calls glUniform3f only if the values are different than the previous call for this same shader program. </p>
<div class="fragment"><pre class="fragment">                          :(GLint)location withF1:(GLfloat)f1 f2:(GLfloat)f2 f3:(GLfloat)f3
{
        GLfloat floats[3] = {f1,f2,f3};
        BOOL updated =  [<span class="keyword">self</span> updateUniformLocation:location withData:floats sizeOfData:sizeof(floats)];
        
        <span class="keywordflow">if</span>( updated )
                glUniform3f( (GLint)location, f1, f2, f3);
}
</pre></div>
</div>
</div>
<a class="anchor" id="a65c5d76b225f41939489c846071c3a06"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">- (void) setUniformLocation: </td>
          <td></td>
          <td class="paramtype">(GLint)&#160;</td>
          <td class="paramname"><em>location</em></td>
        </tr>
        <tr>
          <td class="paramkey">withF1:</td>
          <td></td>
          <td class="paramtype">(GLfloat)&#160;</td>
          <td class="paramname"><em>f1</em></td>
        </tr>
        <tr>
          <td class="paramkey">f2:</td>
          <td></td>
          <td class="paramtype">(GLfloat)&#160;</td>
          <td class="paramname"><em>f2</em></td>
        </tr>
        <tr>
          <td class="paramkey">f3:</td>
          <td></td>
          <td class="paramtype">(GLfloat)&#160;</td>
          <td class="paramname"><em>f3</em></td>
        </tr>
        <tr>
          <td class="paramkey">f4:</td>
          <td></td>
          <td class="paramtype">(GLfloat)&#160;</td>
          <td class="paramname"><em>f4</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>calls glUniform4f only if the values are different than the previous call for this same shader program. </p>

<p>Referenced by <a class="el" href="class_g_l_e_s_debug_draw.html#a9beacb1f221106e10ea68614ff336bf8">GLESDebugDraw::DrawCircle()</a>, <a class="el" href="class_g_l_e_s_debug_draw.html#afab4f8ea8882119f62134f9667e9e2da">GLESDebugDraw::DrawPolygon()</a>, <a class="el" href="class_g_l_e_s_debug_draw.html#a2a24d1fe4eb99b6382380c234ab77382">GLESDebugDraw::DrawSegment()</a>, <a class="el" href="class_g_l_e_s_debug_draw.html#ac06ea317fe6075cb9e1ff87ff89b8007">GLESDebugDraw::DrawSolidCircle()</a>, <a class="el" href="class_g_l_e_s_debug_draw.html#aa68490f03cf0cb567ce6ccd78b18c5c3">GLESDebugDraw::DrawSolidPolygon()</a>, and <a class="el" href="interface_c_c_g_l_program.html#ab7d2c467cf1e28fbb8c28d352fc1bbb7">setUniformsForBuiltins</a>.</p>
<div class="fragment"><pre class="fragment">                          :(GLint)location withF1:(GLfloat)f1 f2:(GLfloat)f2 f3:(GLfloat)f3 f4:(GLfloat)f4
{
        GLfloat floats[4] = {f1,f2,f3,f4};
        BOOL updated =  [<span class="keyword">self</span> updateUniformLocation:location withData:floats sizeOfData:sizeof(floats)];
        
        <span class="keywordflow">if</span>( updated )
                glUniform4f( (GLint)location, f1, f2, f3,f4);
}
</pre></div>
</div>
</div>
<a class="anchor" id="a98528f310d68740dfc4a1f8ec6ad063c"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">- (void) setUniformLocation: </td>
          <td></td>
          <td class="paramtype">(GLint)&#160;</td>
          <td class="paramname"><em>location</em></td>
        </tr>
        <tr>
          <td class="paramkey">withI1:</td>
          <td></td>
          <td class="paramtype">(GLint)&#160;</td>
          <td class="paramname"><em>i1</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>calls glUniform1i only if the values are different than the previous call for this same shader program. </p>

<p>Referenced by <a class="el" href="interface_c_c_g_l_program.html#a9ad6bb937bd9ca7c8bb0dbfd21b3cd8a">updateUniforms</a>.</p>
<div class="fragment"><pre class="fragment">                          :(GLint)location withI1:(GLint)i1
{
        BOOL updated =  [<span class="keyword">self</span> updateUniformLocation:location withData:&amp;i1 sizeOfData:sizeof(i1)*1];
        
        <span class="keywordflow">if</span>( updated )
                glUniform1i( (GLint)location, i1);
}
</pre></div>
</div>
</div>
<a class="anchor" id="ae818b6b75b4682f5b6ed8c41a66e83d7"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">- (void) setUniformLocation: </td>
          <td></td>
          <td class="paramtype">(GLint)&#160;</td>
          <td class="paramname"><em>location</em></td>
        </tr>
        <tr>
          <td class="paramkey">withMatrix4fv:</td>
          <td></td>
          <td class="paramtype">(GLvoid*)&#160;</td>
          <td class="paramname"><em>matrix_array</em></td>
        </tr>
        <tr>
          <td class="paramkey">count:</td>
          <td></td>
          <td class="paramtype">(NSUInteger)&#160;</td>
          <td class="paramname"><em>numberOfMatrix</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>calls glUniformMatrix4fv only if the values are different than the previous call for this same shader program. </p>

<p>Referenced by <a class="el" href="interface_c_c_g_l_program.html#ab7d2c467cf1e28fbb8c28d352fc1bbb7">setUniformsForBuiltins</a>.</p>
<div class="fragment"><pre class="fragment">                          :(GLint)location withMatrix4fv:(GLvoid*)matrixArray count:(NSUInteger)numberOfMatrices
{
        BOOL updated =  [<span class="keyword">self</span> updateUniformLocation:location withData:matrixArray sizeOfData:sizeof(float)*16*numberOfMatrices];
        
        <span class="keywordflow">if</span>( updated )
                glUniformMatrix4fv( (GLint)location, (GLsizei)numberOfMatrices, GL_FALSE, matrixArray);
}
</pre></div>
</div>
</div>
<a class="anchor" id="ab7d2c467cf1e28fbb8c28d352fc1bbb7"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">- (void) <a class="el" href="interface_c_c_g_l_program.html#ab7d2c467cf1e28fbb8c28d352fc1bbb7">setUniformsForBuiltins</a> </td>
          <td></td>
          <td class="paramname"></td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>will update the builtin uniforms if they are different than the previous call for this same shader program. </p>

<p>Referenced by <a class="el" href="_c_c_drawing_primitives_8h.html#a6679f5e86cdfab9b4290c2f636d9c7b3">ccDrawCardinalSpline()</a>, <a class="el" href="_c_c_drawing_primitives_8h.html#a34d0ad7b8f0d0dbd5fb874d607d69f1d">ccDrawCircle()</a>, <a class="el" href="_c_c_drawing_primitives_8h.html#a5a391711c0aa611a06167bdd7637571f">ccDrawCubicBezier()</a>, <a class="el" href="_c_c_drawing_primitives_8h.html#a26a514883252b7cd5461fa8472309416">ccDrawLine()</a>, <a class="el" href="_c_c_drawing_primitives_8h.html#a049d8eec041179d6e70f2428d8ebf248">ccDrawPoint()</a>, <a class="el" href="_c_c_drawing_primitives_8h.html#ad545cd6e2e2350e278d8eeafcb8c3762">ccDrawPoints()</a>, <a class="el" href="_c_c_drawing_primitives_8h.html#ac0b6ec146da9061bfb0c29e3dd933c1a">ccDrawPoly()</a>, <a class="el" href="_c_c_drawing_primitives_8h.html#ae8eca0753e76b604d747dcb9f8c74cb4">ccDrawQuadBezier()</a>, and <a class="el" href="_c_c_drawing_primitives_8h.html#a1ee08ff6fe6d04c98bc594d769ec847c">ccDrawSolidPoly()</a>.</p>
<div class="fragment"><pre class="fragment">{
        <a class="code" href="structkm_mat4.html">kmMat4</a> matrixP;
        <a class="code" href="structkm_mat4.html">kmMat4</a> matrixMV;
        <a class="code" href="structkm_mat4.html">kmMat4</a> matrixMVP;
        
        kmGLGetMatrix(KM_GL_PROJECTION, &amp;matrixP );
        kmGLGetMatrix(KM_GL_MODELVIEW, &amp;matrixMV );
        
        <a class="code" href="mat4_8c.html#abd78015f0ff854f779365169603d6d9e">kmMat4Multiply</a>(&amp;matrixMVP, &amp;matrixP, &amp;matrixMV);
        
        [<span class="keyword">self</span> setUniformLocation:uniforms_[  kCCUniformPMatrix] withMatrix4fv:  matrixP.mat count:1];
        [<span class="keyword">self</span> setUniformLocation:uniforms_[ kCCUniformMVMatrix] withMatrix4fv: matrixMV.mat count:1];
        [<span class="keyword">self</span> setUniformLocation:uniforms_[kCCUniformMVPMatrix] withMatrix4fv:matrixMVP.mat count:1];
        
        <span class="keywordflow">if</span>(usesTime_){
                <a class="code" href="class_c_c_director.html">CCDirector</a> *director = [<a class="code" href="class_c_c_director.html">CCDirector</a> <a class="code" href="class_c_c_director.html#af77433a256fdbb77a1ffbe12d909c89c">sharedDirector</a>];
                <span class="comment">// This doesn&#39;t give the most accurate global time value.</span>
                <span class="comment">// Cocos2D doesn&#39;t store a high precision time value, so this will have to do.</span>
                <span class="comment">// Getting Mach time per frame per shader using time could be extremely expensive.</span>
                <a class="code" href="cc_types_8h.html#ae6c674aac4bfb46a4e6cb1e89bb66b4f">ccTime</a> time = director.<a class="code" href="class_c_c_director.html#aec2768ee5ab8900069df6ede35f2fe91">totalFrames</a>*director.<a class="code" href="class_c_c_director.html#a5931f953b43d501fe234fbdcadd312da">animationInterval</a>;
                
                [<span class="keyword">self</span> setUniformLocation:uniforms_[kCCUniformTime] withF1:time/10.0 f2:time f3:time*2 f4:time*4];
                [<span class="keyword">self</span> setUniformLocation:uniforms_[kCCUniformSinTime] withF1:sinf(time/8.0) f2:sinf(time/4.0) f3:sinf(time/2.0) f4:sinf(time)];
                [<span class="keyword">self</span> setUniformLocation:uniforms_[kCCUniformCosTime] withF1:cosf(time/8.0) f2:cosf(time/4.0) f3:cosf(time/2.0) f4:cosf(time)];
        }
        
        <span class="keywordflow">if</span>(uniforms_[kCCUniformRandom01] != -1){
                [<span class="keyword">self</span> setUniformLocation:uniforms_[kCCUniformRandom01] withF1:CCRANDOM_0_1() f2:CCRANDOM_0_1() f3:CCRANDOM_0_1() f4:CCRANDOM_0_1()];
        }
}
</pre></div>
</div>
</div>
<a class="anchor" id="a9ad6bb937bd9ca7c8bb0dbfd21b3cd8a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">- (void) <a class="el" href="interface_c_c_g_l_program.html#a9ad6bb937bd9ca7c8bb0dbfd21b3cd8a">updateUniforms</a> </td>
          <td></td>
          <td class="paramname"></td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>It will create 4 uniforms:</p>
<ul>
<li>kCCUniformPMatrix</li>
<li>kCCUniformMVMatrix</li>
<li>kCCUniformMVPMatrix</li>
<li>kCCUniformSampler</li>
</ul>
<p>And it will bind "kCCUniformSampler" to 0 </p>

<p>Referenced by <a class="el" href="interface_c_c_shader_cache.html#a641a9ae1e8fdac164a5be2c39905b569">CCShaderCache::loadDefaultShaders</a>.</p>
<div class="fragment"><pre class="fragment">{
        uniforms_[  kCCUniformPMatrix] = glGetUniformLocation(program_, kCCUniformPMatrix_s);
        uniforms_[ kCCUniformMVMatrix] = glGetUniformLocation(program_, kCCUniformMVMatrix_s);
        uniforms_[kCCUniformMVPMatrix] = glGetUniformLocation(program_, kCCUniformMVPMatrix_s);
        
        uniforms_[kCCUniformTime] = glGetUniformLocation(program_, kCCUniformTime_s);
        uniforms_[kCCUniformSinTime] = glGetUniformLocation(program_, kCCUniformSinTime_s);
        uniforms_[kCCUniformCosTime] = glGetUniformLocation(program_, kCCUniformCosTime_s);
        
        usesTime_ = (
                uniforms_[kCCUniformTime] != -1 ||
                uniforms_[kCCUniformSinTime] != -1 ||
                uniforms_[kCCUniformCosTime] != -1
        );

        uniforms_[kCCUniformRandom01] = glGetUniformLocation(program_, kCCUniformRandom01_s);
        
        uniforms_[kCCUniformSampler] = glGetUniformLocation(program_, kCCUniformSampler_s);

        [<span class="keyword">self</span> use];
        
        <span class="comment">// Since sample most probably won&#39;t change, set it to 0 now.</span>
        [<span class="keyword">self</span> setUniformLocation:uniforms_[kCCUniformSampler] withI1:0];
}
</pre></div>
</div>
</div>
<a class="anchor" id="a10ff7a477f3cf4a4085b415f88921e01"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">- (void) <a class="el" href="interface_c_c_g_l_program.html#a10ff7a477f3cf4a4085b415f88921e01">use</a> </td>
          <td></td>
          <td class="paramname"></td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>it will call glUseProgram() </p>

<p>Referenced by <a class="el" href="_c_c_drawing_primitives_8h.html#a6679f5e86cdfab9b4290c2f636d9c7b3">ccDrawCardinalSpline()</a>, <a class="el" href="_c_c_drawing_primitives_8h.html#a34d0ad7b8f0d0dbd5fb874d607d69f1d">ccDrawCircle()</a>, <a class="el" href="_c_c_drawing_primitives_8h.html#a5a391711c0aa611a06167bdd7637571f">ccDrawCubicBezier()</a>, <a class="el" href="_c_c_drawing_primitives_8h.html#a26a514883252b7cd5461fa8472309416">ccDrawLine()</a>, <a class="el" href="_c_c_drawing_primitives_8h.html#a049d8eec041179d6e70f2428d8ebf248">ccDrawPoint()</a>, <a class="el" href="_c_c_drawing_primitives_8h.html#ad545cd6e2e2350e278d8eeafcb8c3762">ccDrawPoints()</a>, <a class="el" href="_c_c_drawing_primitives_8h.html#ac0b6ec146da9061bfb0c29e3dd933c1a">ccDrawPoly()</a>, <a class="el" href="_c_c_drawing_primitives_8h.html#ae8eca0753e76b604d747dcb9f8c74cb4">ccDrawQuadBezier()</a>, <a class="el" href="_c_c_drawing_primitives_8h.html#a1ee08ff6fe6d04c98bc594d769ec847c">ccDrawSolidPoly()</a>, <a class="el" href="class_g_l_e_s_debug_draw.html#a9beacb1f221106e10ea68614ff336bf8">GLESDebugDraw::DrawCircle()</a>, <a class="el" href="class_g_l_e_s_debug_draw.html#afab4f8ea8882119f62134f9667e9e2da">GLESDebugDraw::DrawPolygon()</a>, <a class="el" href="class_g_l_e_s_debug_draw.html#a2a24d1fe4eb99b6382380c234ab77382">GLESDebugDraw::DrawSegment()</a>, <a class="el" href="class_g_l_e_s_debug_draw.html#ac06ea317fe6075cb9e1ff87ff89b8007">GLESDebugDraw::DrawSolidCircle()</a>, <a class="el" href="class_g_l_e_s_debug_draw.html#aa68490f03cf0cb567ce6ccd78b18c5c3">GLESDebugDraw::DrawSolidPolygon()</a>, and <a class="el" href="interface_c_c_g_l_program.html#a9ad6bb937bd9ca7c8bb0dbfd21b3cd8a">updateUniforms</a>.</p>
<div class="fragment"><pre class="fragment">{
        <a class="code" href="cc_g_l_state_cache_8h.html#a353f977869c5601333c47f0c939db3da">ccGLUseProgram</a>(program_);
}
</pre></div>
</div>
</div>
<a class="anchor" id="a9425ba6c62e5b66a82c9b6259643b8a5"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">- (NSString *) <a class="el" href="interface_c_c_g_l_program.html#a9425ba6c62e5b66a82c9b6259643b8a5">vertexShaderLog</a> </td>
          <td></td>
          <td class="paramname"></td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>returns the vertexShader error log </p>
<div class="fragment"><pre class="fragment">{
        <span class="keywordflow">return</span> [<span class="keyword">self</span> logForOpenGLObject:vertShader_
                                           infoCallback:(GLInfoFunction)&amp;glGetShaderiv
                                                        logFunc:(GLLogFunction)&amp;glGetShaderInfoLog];
}
</pre></div>
</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>/Bing/File/cocos2d/cocos2d-iphone/cocos2d-iphone-2.1-beta4/cocos2d/<a class="el" href="_c_c_g_l_program_8h_source.html">CCGLProgram.h</a></li>
<li>/Bing/File/cocos2d/cocos2d-iphone/cocos2d-iphone-2.1-beta4/cocos2d/CCGLProgram.m</li>
</ul>
</div><!-- contents -->
</div>
  <div id="nav-path" class="navpath">
    <ul>
      <li class="navelem"><a class="el" href="interface_c_c_g_l_program.html">CCGLProgram</a>      </li>

    <li class="footer">Generated on Wed Jan 30 2013 23:41:05 for cocos2d-iphone-2.1-beta4 by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.0 </li>
   </ul>
 </div>


</body>
</html>
