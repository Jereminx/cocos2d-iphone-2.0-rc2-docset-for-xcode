<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<title>cocos2d-iphone-2.1-beta4: TheAudioCode Class Reference</title>

<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>

</head>
<body>
<div id="top"><!-- do not remove this div! -->


<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  
  <td id="projectlogo"><img alt="Logo" src="Icon.png"/></td>
  
  
  <td style="padding-left: 0.5em;">
   <div id="projectname">cocos2d-iphone-2.1-beta4
   &#160;<span id="projectnumber">2.1-beta4</span>
   </div>
   <div id="projectbrief">zhxubing@gmail.com</div>
  </td>
  
  
  
 </tr>
 </tbody>
</table>
</div>

<!-- Generated by Doxygen 1.8.0 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="classes.html"><span>Class&#160;Index</span></a></li>
      <li><a href="hierarchy.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
</div>
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
  initNavTree('interface_the_audio_code.html','');
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&#160;</span>Properties</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(10)"><span class="SelectionMark">&#160;</span>Friends</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(11)"><span class="SelectionMark">&#160;</span>Defines</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pro-attribs">Protected Attributes</a>  </div>
  <div class="headertitle">
<div class="title">TheAudioCode Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p><code>#import &lt;<a class="el" href="_the_audio_code_8h_source.html">TheAudioCode.h</a>&gt;</code></p>
<div class="dynheader">
Inheritance diagram for TheAudioCode:</div>
<div class="dyncontent">
 <div class="center">
  <img src="interface_the_audio_code.png" usemap="#TheAudioCode_map" alt=""/>
  <map id="TheAudioCode_map" name="TheAudioCode_map">
<area href="class_n_s_object.html" alt="NSObject" shape="rect" coords="0,0,96,24"/>
</map>
 </div></div>

<p><a href="class_the_audio_code-members.html">List of all members.</a></p>
<table class="memberdecls">
<tr><td colspan="2"><h2><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a7776a2aee37ac81afe6e98d3716d459b"><td class="memItemLeft" align="right" valign="top">(void)&#160;</td><td class="memItemRight" valign="bottom">- <a class="el" href="interface_the_audio_code.html#a7776a2aee37ac81afe6e98d3716d459b">testOne:</a></td></tr>
<tr class="memitem:ad05b778f31c78555a1f32b378668973f"><td class="memItemLeft" align="right" valign="top">(void)&#160;</td><td class="memItemRight" valign="bottom">- <a class="el" href="interface_the_audio_code.html#ad05b778f31c78555a1f32b378668973f">testTwo:</a></td></tr>
<tr class="memitem:a2047f1d67aec2e858b9e3be1ca9a9f6c"><td class="memItemLeft" align="right" valign="top">(void)&#160;</td><td class="memItemRight" valign="bottom">- <a class="el" href="interface_the_audio_code.html#a2047f1d67aec2e858b9e3be1ca9a9f6c">testThree:</a></td></tr>
<tr class="memitem:aba3efa564837f4cd8ca22d2ad0145663"><td class="memItemLeft" align="right" valign="top">(void)&#160;</td><td class="memItemRight" valign="bottom">- <a class="el" href="interface_the_audio_code.html#aba3efa564837f4cd8ca22d2ad0145663">testFour:</a></td></tr>
<tr class="memitem:aba46046c6aa13363fd9c8c7d01135ab1"><td class="memItemLeft" align="right" valign="top">(void)&#160;</td><td class="memItemRight" valign="bottom">- <a class="el" href="interface_the_audio_code.html#aba46046c6aa13363fd9c8c7d01135ab1">testFive:</a></td></tr>
<tr class="memitem:a114504758ffbaf75a4e25ae37e83e679"><td class="memItemLeft" align="right" valign="top">(void)&#160;</td><td class="memItemRight" valign="bottom">- <a class="el" href="interface_the_audio_code.html#a114504758ffbaf75a4e25ae37e83e679">testSix:</a></td></tr>
<tr class="memitem:a8fc11e13ebd3259d3cd62303ac14076b"><td class="memItemLeft" align="right" valign="top">(void)&#160;</td><td class="memItemRight" valign="bottom">- <a class="el" href="interface_the_audio_code.html#a8fc11e13ebd3259d3cd62303ac14076b">testSeven:</a></td></tr>
<tr class="memitem:acd74afe261a0eb9b4ba4f618ea5a6aca"><td class="memItemLeft" align="right" valign="top">(void)&#160;</td><td class="memItemRight" valign="bottom">- <a class="el" href="interface_the_audio_code.html#acd74afe261a0eb9b4ba4f618ea5a6aca">testEight:</a></td></tr>
<tr><td colspan="2"><h2><a name="pro-attribs"></a>
Protected Attributes</h2></td></tr>
<tr class="memitem:afa299e9f2eef21e4c75ab8833ce93ed2"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="afa299e9f2eef21e4c75ab8833ce93ed2"></a>
<a class="el" href="interface_c_d_sound_source.html">CDSoundSource</a> *&#160;</td><td class="memItemRight" valign="bottom"><b>sound1</b></td></tr>
<tr class="memitem:ae434dd316ea1b84c64ea780cc164c7bd"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ae434dd316ea1b84c64ea780cc164c7bd"></a>
<a class="el" href="interface_c_d_sound_source.html">CDSoundSource</a> *&#160;</td><td class="memItemRight" valign="bottom"><b>sound2</b></td></tr>
<tr class="memitem:ab2e689fd553e60689c2b139686183ca2"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ab2e689fd553e60689c2b139686183ca2"></a>
<a class="el" href="interface_c_d_sound_source.html">CDSoundSource</a> *&#160;</td><td class="memItemRight" valign="bottom"><b>sound3</b></td></tr>
<tr class="memitem:a49f3543761908f0b26ef8aa595b4a88d"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a49f3543761908f0b26ef8aa595b4a88d"></a>
<a class="el" href="interface_simple_audio_engine.html">SimpleAudioEngine</a> *&#160;</td><td class="memItemRight" valign="bottom"><b>sae</b></td></tr>
<tr class="memitem:a3d7383fc75555d225a976b4eb9b85a39"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a3d7383fc75555d225a976b4eb9b85a39"></a>
<a class="el" href="interface_c_d_x_property_modifier_action.html">CDXPropertyModifierAction</a> *&#160;</td><td class="memItemRight" valign="bottom"><b>faderAction</b></td></tr>
<tr class="memitem:a3588081cb5d8b57d13e2e08fcaf80692"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a3588081cb5d8b57d13e2e08fcaf80692"></a>
<a class="el" href="interface_c_d_sound_source_fader.html">CDSoundSourceFader</a> *&#160;</td><td class="memItemRight" valign="bottom"><b>sourceFader</b></td></tr>
<tr class="memitem:a7253c9db15dc0a07796336a53e845ce5"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a7253c9db15dc0a07796336a53e845ce5"></a>
<a class="el" href="interface_c_c_action_manager.html">CCActionManager</a> *&#160;</td><td class="memItemRight" valign="bottom"><b>actionManager</b></td></tr>
</table>
<hr/><a name="details" id="details"></a><h2>Detailed Description</h2>
<div class="textblock"><p>Stick all the audio code in here to make it easy to find</p>
<p>Tests for showing how to use fading with <a class="el" href="interface_simple_audio_engine.html">SimpleAudioEngine</a> sound effects and background music. NB: on the simulator resetting takes a long time ~2 minutes and background music does not function properly. It is best to test on a device. </p>
</div><hr/><h2>Member Function Documentation</h2>
<a class="anchor" id="acd74afe261a0eb9b4ba4f618ea5a6aca"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">- (void) <a class="el" href="interface_the_audio_code.html#acd74afe261a0eb9b4ba4f618ea5a6aca">testEight:</a> </td>
          <td></td>
          <td class="paramtype">(id)&#160;</td>
          <td class="paramname"><em>sender</em></td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p><a class="el" href="class_test.html">Test</a> fading out of a background music and starting another with fadein issue-1304 </p>
<div class="fragment"><pre class="fragment">                 :(id) sender {

        CDLOG(<span class="stringliteral">@&quot;&gt;&gt;Test Eight&quot;</span>);
        <span class="keywordflow">if</span> (![sae isBackgroundMusicPlaying]) {
                CDLOG(<span class="stringliteral">@&quot;&gt;&gt; Background music is not playing&quot;</span>);
                [sae setBackgroundMusicVolume:1.0f];
                [sae rewindBackgroundMusic];
                [sae playBackgroundMusic:@&quot;bgm.mp3&quot;];
        } <span class="keywordflow">else</span> {


                <a class="code" href="interface_c_d_long_audio_source.html">CDLongAudioSource</a> *player = [[<a class="code" href="interface_c_d_audio_manager.html">CDAudioManager</a> <a class="code" href="interface_c_d_audio_manager.html#a757b69bd4a902166b3ffa81ea85ba6e8">sharedManager</a>] <a class="code" href="interface_c_d_audio_manager.html#a07c2429b4ae8340c5aefe21c381f102f">audioSourceForChannel</a>:kASC_Left];
                <a class="code" href="interface_c_d_long_audio_source_fader.html">CDLongAudioSourceFader</a>* faderout = [[<a class="code" href="interface_c_d_long_audio_source_fader.html">CDLongAudioSourceFader</a> alloc] init:player interpolationType:kIT_Linear startVal:player.volume endVal:0.0f];
                [faderout setStopTargetWhenComplete:YES];
                <span class="comment">//Create a property modifier action to wrap the fader </span>
                <a class="code" href="interface_c_d_x_property_modifier_action.html">CDXPropertyModifierAction</a>* fadeoutaction = [<a class="code" href="interface_c_d_x_property_modifier_action.html">CDXPropertyModifierAction</a> <a class="code" href="interface_c_d_x_property_modifier_action.html#a46d04d4a1c089a70f9d6d4a5dfce2fa9">actionWithDuration</a>:4 <a class="code" href="interface_c_d_x_property_modifier_action.html#a46d04d4a1c089a70f9d6d4a5dfce2fa9">modifier</a>:faderout];
                [faderout release];<span class="comment">//Action will retain</span>

                <a class="code" href="interface_c_d_long_audio_source_fader.html">CDLongAudioSourceFader</a>* faderin = [[<a class="code" href="interface_c_d_long_audio_source_fader.html">CDLongAudioSourceFader</a> alloc] init:player interpolationType:kIT_Linear startVal:0 endVal:1];
                [faderin setStopTargetWhenComplete:NO];
                <a class="code" href="interface_c_d_x_property_modifier_action.html">CDXPropertyModifierAction</a>* faderinaction = [<a class="code" href="interface_c_d_x_property_modifier_action.html">CDXPropertyModifierAction</a> <a class="code" href="interface_c_d_x_property_modifier_action.html#a46d04d4a1c089a70f9d6d4a5dfce2fa9">actionWithDuration</a>:4 <a class="code" href="interface_c_d_x_property_modifier_action.html#a46d04d4a1c089a70f9d6d4a5dfce2fa9">modifier</a>:faderin];
                [faderin release];



                <a class="code" href="interface_c_c_sequence.html">CCSequence</a> * action =[<a class="code" href="interface_c_c_sequence.html">CCSequence</a> <a class="code" href="interface_c_c_sequence.html#a8ee2b8d75923c9a3bb01378128021876">actions</a>:
                                                          fadeoutaction,
                                                          [<a class="code" href="interface_c_c_call_func_o.html">CCCallFuncO</a> <a class="code" href="interface_c_c_call_func_o.html#a2444389a377c5baf05bec11db16badb6">actionWithTarget</a>:sae <a class="code" href="interface_c_c_call_func_o.html#a2444389a377c5baf05bec11db16badb6">selector</a>:@selector(<a class="code" href="interface_c_c_call_func_o.html#a2444389a377c5baf05bec11db16badb6">playBackgroundMusic</a>:) <a class="code" href="interface_c_c_call_func_o.html#a2444389a377c5baf05bec11db16badb6">object</a>:@&quot;Cyber Advance!.mp3&quot;],
                                                          faderinaction,
                                                          Nil];

                
                <a class="code" href="interface_c_c_action_manager.html">CCActionManager</a> *actionMgr = [[<a class="code" href="class_c_c_director.html">CCDirector</a> <a class="code" href="class_c_c_director.html#af77433a256fdbb77a1ffbe12d909c89c">sharedDirector</a>] <a class="code" href="class_c_c_director.html#a8cd504d7743a5ea6c9f93e3851215bee">actionManager</a>];
                [actionMgr <a class="code" href="interface_c_c_action_manager.html#acaa9759ef06e75a48d82e01b673f2eb4">addAction</a>:action <a class="code" href="interface_c_c_action_manager.html#acaa9759ef06e75a48d82e01b673f2eb4">target</a>:player <a class="code" href="interface_c_c_action_manager.html#acaa9759ef06e75a48d82e01b673f2eb4">paused</a>:NO];

        }
}
</pre></div>
</div>
</div>
<a class="anchor" id="aba46046c6aa13363fd9c8c7d01135ab1"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">- (void) <a class="el" href="interface_the_audio_code.html#aba46046c6aa13363fd9c8c7d01135ab1">testFive:</a> </td>
          <td></td>
          <td class="paramtype">(id)&#160;</td>
          <td class="paramname"><em>sender</em></td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p><a class="el" href="class_test.html">Test</a> fading out of background music. The test toggles between starting the music with no fade and fading it out. </p>
<div class="fragment"><pre class="fragment">                :(id) sender {

        CDLOG(<span class="stringliteral">@&quot;&gt;&gt;Test five&quot;</span>);
        <span class="keywordflow">if</span> (![sae isBackgroundMusicPlaying]) {
                CDLOG(<span class="stringliteral">@&quot;&gt;&gt; Background music is not playing&quot;</span>);
                [sae setBackgroundMusicVolume:1.0f];
                [sae rewindBackgroundMusic];
                [sae playBackgroundMusic:@&quot;bgm.mp3&quot;];
        } <span class="keywordflow">else</span> {
                [<a class="code" href="interface_c_d_x_property_modifier_action.html">CDXPropertyModifierAction</a> fadeBackgroundMusic:2.0f finalVolume:0.0f curveType:kIT_Exponential shouldStop:YES];
        }

        <span class="comment">//CDLOG(@&quot;&gt;&gt;Will play background music? %i&quot;,[[CDAudioManager sharedManager] willPlayBackgroundMusic]);</span>
}
</pre></div>
</div>
</div>
<a class="anchor" id="aba3efa564837f4cd8ca22d2ad0145663"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">- (void) <a class="el" href="interface_the_audio_code.html#aba3efa564837f4cd8ca22d2ad0145663">testFour:</a> </td>
          <td></td>
          <td class="paramtype">(id)&#160;</td>
          <td class="paramname"><em>sender</em></td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>This test is a stress test, it rapidly plays back enough sounds to exhaust the number of allocated sources/voices. To perform the test some other audio should be running, the easiest thing is to run testThree and then run this. The audio generated by testThree should not cut out. </p>
<div class="fragment"><pre class="fragment">                :(id) sender {
        CDLOG(<span class="stringliteral">@&quot;&gt;&gt;Test four&quot;</span>);
        [sae playEffect:@&quot;dp1.caf&quot; pitch:0.5f pan:0.0f gain:1.0f];
        <span class="comment">//Test locking</span>
        <span class="keywordtype">float</span> pitch = 2.0f;
        <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; 32; i++) {
<span class="comment">//              ALuint played =</span>
                [sae playEffect:@&quot;dp4.caf&quot; pitch:pitch pan:0.0f gain:0.1f];
                <span class="comment">//CDLOG(@&quot;--&gt;Played %i&quot;,played);</span>
                pitch -= 1.5f/32.0f;
        }
}
</pre></div>
</div>
</div>
<a class="anchor" id="a7776a2aee37ac81afe6e98d3716d459b"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">- (void) <a class="el" href="interface_the_audio_code.html#a7776a2aee37ac81afe6e98d3716d459b">testOne:</a> </td>
          <td></td>
          <td class="paramtype">(id)&#160;</td>
          <td class="paramname"><em>sender</em></td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>This test shows how to do a fade with a reused action and property modifier. The action and property modifier are created in the init and not released until this class is deallocated. This technique is useful in high performance situations where a sound is triggered frequently as it eliminates memory allocations and deallocations that would otherwise occur. </p>
<div class="fragment"><pre class="fragment">               :(id) sender {
        CDLOG(<span class="stringliteral">@&quot;&gt;&gt;Test one&quot;</span>);
        sound1.looping = YES;
        sound1.gain = 1.0f;
        [sound1 play];
        <span class="comment">//Stop any actions that may already be running on our target</span>
        [actionManager removeAllActionsFromTarget:sound1];
        <span class="comment">//If these values haven&#39;t changed you don&#39;t have to set them again, this code is just to illustrate</span>
        <span class="comment">//that the property modifier&#39;s properties can be altered (except for its target)</span>
        sourceFader.startValue = sound1.gain;
        sourceFader.endValue = 0.0f;
        sourceFader.stopTargetWhenComplete = YES;
        <span class="comment">//Re-initialise the fader action, if you don&#39;t do this then the elapsed time won&#39;t be reset</span>
        [faderAction initWithDuration:1.0f modifier:sourceFader];
        <span class="comment">//Now just run our action.</span>
        [actionManager addAction:faderAction target:sound1 paused:NO];
}
</pre></div>
</div>
</div>
<a class="anchor" id="a8fc11e13ebd3259d3cd62303ac14076b"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">- (void) <a class="el" href="interface_the_audio_code.html#a8fc11e13ebd3259d3cd62303ac14076b">testSeven:</a> </td>
          <td></td>
          <td class="paramtype">(id)&#160;</td>
          <td class="paramname"><em>sender</em></td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p><a class="el" href="class_test.html">Test</a> unloading effects </p>
<div class="fragment"><pre class="fragment">                 :(id) sender {
        [sae unloadEffect:@&quot;dp1.caf&quot;];
        [sae unloadEffect:@&quot;dp2.caf&quot;];
        <span class="comment">//Try loading a non existant file</span>
        [sae preloadEffect:@&quot;nosuchfile.caf&quot;];
        [sae preloadEffect:@&quot;dp1.caf&quot;];
        [sae playEffect:@&quot;dp1.caf&quot;];
}
</pre></div>
</div>
</div>
<a class="anchor" id="a114504758ffbaf75a4e25ae37e83e679"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">- (void) <a class="el" href="interface_the_audio_code.html#a114504758ffbaf75a4e25ae37e83e679">testSix:</a> </td>
          <td></td>
          <td class="paramtype">(id)&#160;</td>
          <td class="paramname"><em>sender</em></td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p><a class="el" href="class_test.html">Test</a> fading out sound effects. The volume of the audio of tests 1-4 will be modified but the background music must not be modified. Beware that if you have faded out the sound effects then test 1-4 will not be audible. </p>
<div class="fragment"><pre class="fragment">               :(id) sender {
        CDLOG(<span class="stringliteral">@&quot;&gt;&gt;Test six&quot;</span>);
        <span class="keywordflow">if</span> (sae.<a class="code" href="interface_simple_audio_engine.html#a0c529082c00086142cdc19b92098453a">effectsVolume</a> &lt; 0.5f) {
                <span class="comment">//Fade in</span>
                [<a class="code" href="interface_c_d_x_property_modifier_action.html">CDXPropertyModifierAction</a> fadeSoundEffects:2.0f finalVolume:1.0f curveType:kIT_Linear shouldStop:NO];
        } <span class="keywordflow">else</span> {
                <span class="comment">//Fade out</span>
                [<a class="code" href="interface_c_d_x_property_modifier_action.html">CDXPropertyModifierAction</a> fadeSoundEffects:2.0f finalVolume:0.0f curveType:kIT_Linear shouldStop:NO];
        }
}
</pre></div>
</div>
</div>
<a class="anchor" id="a2047f1d67aec2e858b9e3be1ca9a9f6c"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">- (void) <a class="el" href="interface_the_audio_code.html#a2047f1d67aec2e858b9e3be1ca9a9f6c">testThree:</a> </td>
          <td></td>
          <td class="paramtype">(id)&#160;</td>
          <td class="paramname"><em>sender</em></td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>This test alternates between fading a sound in and out using the convenience method fadeSoundEffect. Note that the sound does not stop when the fade in finishes, as would be normal but stops after the fade out. </p>
<div class="fragment"><pre class="fragment">                 :(id) sender {
        CDLOG(<span class="stringliteral">@&quot;&gt;&gt;Test three&quot;</span>);
        <span class="comment">//Stop any actions currently running</span>
        <a class="code" href="class_c_c_director.html">CCDirector</a> *director = [<a class="code" href="class_c_c_director.html">CCDirector</a> <a class="code" href="class_c_c_director.html#af77433a256fdbb77a1ffbe12d909c89c">sharedDirector</a>];

        [[director <a class="code" href="class_c_c_director.html#a8cd504d7743a5ea6c9f93e3851215bee">actionManager</a>] <a class="code" href="interface_c_c_action_manager.html#af32c4dcefa469ecece2541d0f405b517">removeAllActionsFromTarget</a>:sound3];
        <span class="keywordflow">if</span> (!fadingOut) {
                <span class="comment">//Fade it out</span>
                [<a class="code" href="interface_c_d_x_property_modifier_action.html">CDXPropertyModifierAction</a> fadeSoundEffect:1.0f finalVolume:0.0f curveType:kIT_Linear shouldStop:YES effect:sound3];
        } <span class="keywordflow">else</span> {
                <span class="comment">//Fade it in</span>
                sound3.looping = YES;
                [sound3 play];
                [<a class="code" href="interface_c_d_x_property_modifier_action.html">CDXPropertyModifierAction</a> fadeSoundEffect:1.0f finalVolume:1.0f curveType:kIT_Linear shouldStop:NO effect:sound3];
        }
        fadingOut = !fadingOut;
}
</pre></div>
</div>
</div>
<a class="anchor" id="ad05b778f31c78555a1f32b378668973f"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">- (void) <a class="el" href="interface_the_audio_code.html#ad05b778f31c78555a1f32b378668973f">testTwo:</a> </td>
          <td></td>
          <td class="paramtype">(id)&#160;</td>
          <td class="paramname"><em>sender</em></td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>This test shows how to use the convenience method fadeSoundEffect to fade out a sound effect. It will result in a property modifier object and action being allocated and then deallocated when the fade finishes. As you can see it is much simpler than resuing the action and modifier as was done in testOne. Note that the sound effect will be stopped when the fade finishes. </p>
<div class="fragment"><pre class="fragment">               :(id) sender {
        CDLOG(<span class="stringliteral">@&quot;&gt;&gt;Test two&quot;</span>);
        sound2.looping = YES;
        sound2.gain = 0.0f;
        [sound2 play];
        [<a class="code" href="interface_c_d_x_property_modifier_action.html">CDXPropertyModifierAction</a> fadeSoundEffect:2.0f finalVolume:1.0f curveType:kIT_SCurve shouldStop:YES effect:sound2];
}
</pre></div>
</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>/Bing/File/cocos2d/cocos2d-iphone/cocos2d-iphone-2.1-beta4/CocosDenshion/TestsAndDemos/FadeToGrey/Classes/<a class="el" href="_the_audio_code_8h_source.html">TheAudioCode.h</a></li>
<li>/Bing/File/cocos2d/cocos2d-iphone/cocos2d-iphone-2.1-beta4/CocosDenshion/TestsAndDemos/FadeToGrey/Classes/TheAudioCode.m</li>
</ul>
</div><!-- contents -->
</div>
  <div id="nav-path" class="navpath">
    <ul>
      <li class="navelem"><a class="el" href="interface_the_audio_code.html">TheAudioCode</a>      </li>

    <li class="footer">Generated on Wed Jan 30 2013 23:41:25 for cocos2d-iphone-2.1-beta4 by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.0 </li>
   </ul>
 </div>


</body>
</html>
