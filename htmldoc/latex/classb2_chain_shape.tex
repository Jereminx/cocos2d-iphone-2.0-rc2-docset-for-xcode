\hypertarget{classb2_chain_shape}{\section{b2\-Chain\-Shape Class Reference}
\label{classb2_chain_shape}\index{b2\-Chain\-Shape@{b2\-Chain\-Shape}}
}


{\ttfamily \#include $<$b2\-Chain\-Shape.\-h$>$}

Inheritance diagram for b2\-Chain\-Shape\-:\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[height=2.000000cm]{classb2_chain_shape}
\end{center}
\end{figure}
\subsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\hypertarget{classb2_chain_shape_a8c032394f5a85e7fc425a437e7689a18}{\hyperlink{classb2_chain_shape_a8c032394f5a85e7fc425a437e7689a18}{$\sim$b2\-Chain\-Shape} ()}\label{classb2_chain_shape_a8c032394f5a85e7fc425a437e7689a18}

\begin{DoxyCompactList}\small\item\em The destructor frees the vertices using b2\-Free. \end{DoxyCompactList}\item 
void \hyperlink{classb2_chain_shape_ac257742a52cac391e25962a4c703fb06}{Create\-Loop} (const \hyperlink{structb2_vec2}{b2\-Vec2} $\ast$vertices, int32 count)
\item 
void \hyperlink{classb2_chain_shape_aa0977339b743c05f2179939ccc38e7e0}{Create\-Chain} (const \hyperlink{structb2_vec2}{b2\-Vec2} $\ast$vertices, int32 count)
\item 
void \hyperlink{classb2_chain_shape_aeb2ddbe0c52a98885e91b7c8f597315b}{Set\-Prev\-Vertex} (const \hyperlink{structb2_vec2}{b2\-Vec2} \&prev\-Vertex)
\item 
void \hyperlink{classb2_chain_shape_a15c7c2821a52266ef57621ac7d34a95f}{Set\-Next\-Vertex} (const \hyperlink{structb2_vec2}{b2\-Vec2} \&next\-Vertex)
\item 
\hypertarget{classb2_chain_shape_a651a039aa4584e48df91db8108729bfa}{\hyperlink{classb2_shape}{b2\-Shape} $\ast$ \hyperlink{classb2_chain_shape_a651a039aa4584e48df91db8108729bfa}{Clone} (\hyperlink{classb2_block_allocator}{b2\-Block\-Allocator} $\ast$allocator) const }\label{classb2_chain_shape_a651a039aa4584e48df91db8108729bfa}

\begin{DoxyCompactList}\small\item\em Implement \hyperlink{classb2_shape}{b2\-Shape}. Vertices are cloned using b2\-Alloc. \end{DoxyCompactList}\item 
int32 \hyperlink{classb2_chain_shape_a44bd58b9602dbe57cdfc3b66f8f03b61}{Get\-Child\-Count} () const 
\item 
\hypertarget{classb2_chain_shape_a614e630221ac7f19257c9351edf4bd12}{void \hyperlink{classb2_chain_shape_a614e630221ac7f19257c9351edf4bd12}{Get\-Child\-Edge} (\hyperlink{classb2_edge_shape}{b2\-Edge\-Shape} $\ast$edge, int32 index) const }\label{classb2_chain_shape_a614e630221ac7f19257c9351edf4bd12}

\begin{DoxyCompactList}\small\item\em Get a child edge. \end{DoxyCompactList}\item 
bool \hyperlink{classb2_chain_shape_a4fc27b41ecc556985efacf8e0f91c39f}{Test\-Point} (const \hyperlink{structb2_transform}{b2\-Transform} \&transform, const \hyperlink{structb2_vec2}{b2\-Vec2} \&p) const 
\item 
\hypertarget{classb2_chain_shape_a85c7a17a15581e0e258c7af561cf5403}{bool \hyperlink{classb2_chain_shape_a85c7a17a15581e0e258c7af561cf5403}{Ray\-Cast} (\hyperlink{structb2_ray_cast_output}{b2\-Ray\-Cast\-Output} $\ast$output, const \hyperlink{structb2_ray_cast_input}{b2\-Ray\-Cast\-Input} \&input, const \hyperlink{structb2_transform}{b2\-Transform} \&transform, int32 child\-Index) const }\label{classb2_chain_shape_a85c7a17a15581e0e258c7af561cf5403}

\begin{DoxyCompactList}\small\item\em Implement \hyperlink{classb2_shape}{b2\-Shape}. \end{DoxyCompactList}\item 
void \hyperlink{classb2_chain_shape_a409c21206e4c84f66700809aac5b164c}{Compute\-A\-A\-B\-B} (\hyperlink{structb2_a_a_b_b}{b2\-A\-A\-B\-B} $\ast$aabb, const \hyperlink{structb2_transform}{b2\-Transform} \&transform, int32 child\-Index) const 
\item 
void \hyperlink{classb2_chain_shape_a009259d589abebeda27fe580d117b11e}{Compute\-Mass} (\hyperlink{structb2_mass_data}{b2\-Mass\-Data} $\ast$mass\-Data, float32 density) const 
\end{DoxyCompactItemize}
\subsection*{Public Attributes}
\begin{DoxyCompactItemize}
\item 
\hypertarget{classb2_chain_shape_a481116a6886fb3880b13e55c966579da}{\hyperlink{structb2_vec2}{b2\-Vec2} $\ast$ \hyperlink{classb2_chain_shape_a481116a6886fb3880b13e55c966579da}{m\-\_\-vertices}}\label{classb2_chain_shape_a481116a6886fb3880b13e55c966579da}

\begin{DoxyCompactList}\small\item\em The vertices. Owned by this class. \end{DoxyCompactList}\item 
\hypertarget{classb2_chain_shape_ab2ad711781e6ac81179074e90e0e058b}{int32 \hyperlink{classb2_chain_shape_ab2ad711781e6ac81179074e90e0e058b}{m\-\_\-count}}\label{classb2_chain_shape_ab2ad711781e6ac81179074e90e0e058b}

\begin{DoxyCompactList}\small\item\em The vertex count. \end{DoxyCompactList}\item 
\hypertarget{classb2_chain_shape_a3a42d4c6b2421bc5badda3b6164949cf}{\hyperlink{structb2_vec2}{b2\-Vec2} {\bfseries m\-\_\-prev\-Vertex}}\label{classb2_chain_shape_a3a42d4c6b2421bc5badda3b6164949cf}

\item 
\hypertarget{classb2_chain_shape_af3716ef780dd5bcd905e350d8854aaa2}{\hyperlink{structb2_vec2}{b2\-Vec2} {\bfseries m\-\_\-next\-Vertex}}\label{classb2_chain_shape_af3716ef780dd5bcd905e350d8854aaa2}

\item 
\hypertarget{classb2_chain_shape_a8a6ffbb9de0e2b8545c8b4fc8aa77249}{bool {\bfseries m\-\_\-has\-Prev\-Vertex}}\label{classb2_chain_shape_a8a6ffbb9de0e2b8545c8b4fc8aa77249}

\item 
\hypertarget{classb2_chain_shape_a333b74486566e73c3cf1f7da5e69a96e}{bool {\bfseries m\-\_\-has\-Next\-Vertex}}\label{classb2_chain_shape_a333b74486566e73c3cf1f7da5e69a96e}

\end{DoxyCompactItemize}


\subsection{Detailed Description}
A chain shape is a free form sequence of line segments. The chain has two-\/sided collision, so you can use inside and outside collision. Therefore, you may use any winding order. Since there may be many vertices, they are allocated using b2\-Alloc. Connectivity information is used to create smooth collisions. W\-A\-R\-N\-I\-N\-G\-: The chain will not collide properly if there are self-\/intersections. 

\subsection{Member Function Documentation}
\hypertarget{classb2_chain_shape_a409c21206e4c84f66700809aac5b164c}{\index{b2\-Chain\-Shape@{b2\-Chain\-Shape}!Compute\-A\-A\-B\-B@{Compute\-A\-A\-B\-B}}
\index{Compute\-A\-A\-B\-B@{Compute\-A\-A\-B\-B}!b2ChainShape@{b2\-Chain\-Shape}}
\subsubsection[{Compute\-A\-A\-B\-B}]{\setlength{\rightskip}{0pt plus 5cm}void {\bf b2\-Chain\-Shape\-::\-Compute\-A\-A\-B\-B} (
\begin{DoxyParamCaption}
\item[{{\bf b2\-A\-A\-B\-B} $\ast$}]{aabb, }
\item[{const {\bf b2\-Transform} \&}]{transform, }
\item[{int32}]{child\-Index}
\end{DoxyParamCaption}
) const\hspace{0.3cm}{\ttfamily  \mbox{[}virtual\mbox{]}}}}\label{classb2_chain_shape_a409c21206e4c84f66700809aac5b164c}
\begin{DoxySeeAlso}{See also}
\hyperlink{classb2_shape_a88e9807fab0c8ca9a98d8926e50a1411}{b2\-Shape\-::\-Compute\-A\-A\-B\-B} 
\end{DoxySeeAlso}


Implements \hyperlink{classb2_shape_a88e9807fab0c8ca9a98d8926e50a1411}{b2\-Shape}.


\begin{DoxyCode}
{
        b2Assert(childIndex < m_count);

        int32 i1 = childIndex;
        int32 i2 = childIndex + 1;
        if (i2 == m_count)
        {
                i2 = 0;
        }

        b2Vec2 v1 = b2Mul(xf, m_vertices[i1]);
        b2Vec2 v2 = b2Mul(xf, m_vertices[i2]);

        aabb->lowerBound = b2Min(v1, v2);
        aabb->upperBound = b2Max(v1, v2);
}
\end{DoxyCode}
\hypertarget{classb2_chain_shape_a009259d589abebeda27fe580d117b11e}{\index{b2\-Chain\-Shape@{b2\-Chain\-Shape}!Compute\-Mass@{Compute\-Mass}}
\index{Compute\-Mass@{Compute\-Mass}!b2ChainShape@{b2\-Chain\-Shape}}
\subsubsection[{Compute\-Mass}]{\setlength{\rightskip}{0pt plus 5cm}void {\bf b2\-Chain\-Shape\-::\-Compute\-Mass} (
\begin{DoxyParamCaption}
\item[{{\bf b2\-Mass\-Data} $\ast$}]{mass\-Data, }
\item[{float32}]{density}
\end{DoxyParamCaption}
) const\hspace{0.3cm}{\ttfamily  \mbox{[}virtual\mbox{]}}}}\label{classb2_chain_shape_a009259d589abebeda27fe580d117b11e}
Chains have zero mass. \begin{DoxySeeAlso}{See also}
\hyperlink{classb2_shape_a61b365526241b47f124789b0309cac69}{b2\-Shape\-::\-Compute\-Mass} 
\end{DoxySeeAlso}


Implements \hyperlink{classb2_shape_a61b365526241b47f124789b0309cac69}{b2\-Shape}.


\begin{DoxyCode}
{
        B2_NOT_USED(density);

        massData->mass = 0.0f;
        massData->center.SetZero();
        massData->I = 0.0f;
}
\end{DoxyCode}
\hypertarget{classb2_chain_shape_aa0977339b743c05f2179939ccc38e7e0}{\index{b2\-Chain\-Shape@{b2\-Chain\-Shape}!Create\-Chain@{Create\-Chain}}
\index{Create\-Chain@{Create\-Chain}!b2ChainShape@{b2\-Chain\-Shape}}
\subsubsection[{Create\-Chain}]{\setlength{\rightskip}{0pt plus 5cm}void {\bf b2\-Chain\-Shape\-::\-Create\-Chain} (
\begin{DoxyParamCaption}
\item[{const {\bf b2\-Vec2} $\ast$}]{vertices, }
\item[{int32}]{count}
\end{DoxyParamCaption}
)}}\label{classb2_chain_shape_aa0977339b743c05f2179939ccc38e7e0}
Create a chain with isolated end vertices. 
\begin{DoxyParams}{Parameters}
{\em vertices} & an array of vertices, these are copied \\
\hline
{\em count} & the vertex count \\
\hline
\end{DoxyParams}


Referenced by Clone().


\begin{DoxyCode}
{
        b2Assert(m_vertices == NULL && m_count == 0);
        b2Assert(count >= 2);
        m_count = count;
        m_vertices = (b2Vec2*)b2Alloc(count * sizeof(b2Vec2));
        memcpy(m_vertices, vertices, m_count * sizeof(b2Vec2));
        m_hasPrevVertex = false;
        m_hasNextVertex = false;
}
\end{DoxyCode}
\hypertarget{classb2_chain_shape_ac257742a52cac391e25962a4c703fb06}{\index{b2\-Chain\-Shape@{b2\-Chain\-Shape}!Create\-Loop@{Create\-Loop}}
\index{Create\-Loop@{Create\-Loop}!b2ChainShape@{b2\-Chain\-Shape}}
\subsubsection[{Create\-Loop}]{\setlength{\rightskip}{0pt plus 5cm}void {\bf b2\-Chain\-Shape\-::\-Create\-Loop} (
\begin{DoxyParamCaption}
\item[{const {\bf b2\-Vec2} $\ast$}]{vertices, }
\item[{int32}]{count}
\end{DoxyParamCaption}
)}}\label{classb2_chain_shape_ac257742a52cac391e25962a4c703fb06}
Create a loop. This automatically adjusts connectivity. 
\begin{DoxyParams}{Parameters}
{\em vertices} & an array of vertices, these are copied \\
\hline
{\em count} & the vertex count \\
\hline
\end{DoxyParams}

\begin{DoxyCode}
{
        b2Assert(m_vertices == NULL && m_count == 0);
        b2Assert(count >= 3);
        m_count = count + 1;
        m_vertices = (b2Vec2*)b2Alloc(m_count * sizeof(b2Vec2));
        memcpy(m_vertices, vertices, count * sizeof(b2Vec2));
        m_vertices[count] = m_vertices[0];
        m_prevVertex = m_vertices[m_count - 2];
        m_nextVertex = m_vertices[1];
        m_hasPrevVertex = true;
        m_hasNextVertex = true;
}
\end{DoxyCode}
\hypertarget{classb2_chain_shape_a44bd58b9602dbe57cdfc3b66f8f03b61}{\index{b2\-Chain\-Shape@{b2\-Chain\-Shape}!Get\-Child\-Count@{Get\-Child\-Count}}
\index{Get\-Child\-Count@{Get\-Child\-Count}!b2ChainShape@{b2\-Chain\-Shape}}
\subsubsection[{Get\-Child\-Count}]{\setlength{\rightskip}{0pt plus 5cm}int32 {\bf b2\-Chain\-Shape\-::\-Get\-Child\-Count} (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
) const\hspace{0.3cm}{\ttfamily  \mbox{[}virtual\mbox{]}}}}\label{classb2_chain_shape_a44bd58b9602dbe57cdfc3b66f8f03b61}
\begin{DoxySeeAlso}{See also}
\hyperlink{classb2_shape_a05a3c445017d96df9238ceefe6ce37ab}{b2\-Shape\-::\-Get\-Child\-Count} 
\end{DoxySeeAlso}


Implements \hyperlink{classb2_shape_a05a3c445017d96df9238ceefe6ce37ab}{b2\-Shape}.


\begin{DoxyCode}
{
        // edge count = vertex count - 1
        return m_count - 1;
}
\end{DoxyCode}
\hypertarget{classb2_chain_shape_a15c7c2821a52266ef57621ac7d34a95f}{\index{b2\-Chain\-Shape@{b2\-Chain\-Shape}!Set\-Next\-Vertex@{Set\-Next\-Vertex}}
\index{Set\-Next\-Vertex@{Set\-Next\-Vertex}!b2ChainShape@{b2\-Chain\-Shape}}
\subsubsection[{Set\-Next\-Vertex}]{\setlength{\rightskip}{0pt plus 5cm}void {\bf b2\-Chain\-Shape\-::\-Set\-Next\-Vertex} (
\begin{DoxyParamCaption}
\item[{const {\bf b2\-Vec2} \&}]{next\-Vertex}
\end{DoxyParamCaption}
)}}\label{classb2_chain_shape_a15c7c2821a52266ef57621ac7d34a95f}
Establish connectivity to a vertex that follows the last vertex. Don't call this for loops. 
\begin{DoxyCode}
{
        m_nextVertex = nextVertex;
        m_hasNextVertex = true;
}
\end{DoxyCode}
\hypertarget{classb2_chain_shape_aeb2ddbe0c52a98885e91b7c8f597315b}{\index{b2\-Chain\-Shape@{b2\-Chain\-Shape}!Set\-Prev\-Vertex@{Set\-Prev\-Vertex}}
\index{Set\-Prev\-Vertex@{Set\-Prev\-Vertex}!b2ChainShape@{b2\-Chain\-Shape}}
\subsubsection[{Set\-Prev\-Vertex}]{\setlength{\rightskip}{0pt plus 5cm}void {\bf b2\-Chain\-Shape\-::\-Set\-Prev\-Vertex} (
\begin{DoxyParamCaption}
\item[{const {\bf b2\-Vec2} \&}]{prev\-Vertex}
\end{DoxyParamCaption}
)}}\label{classb2_chain_shape_aeb2ddbe0c52a98885e91b7c8f597315b}
Establish connectivity to a vertex that precedes the first vertex. Don't call this for loops. 
\begin{DoxyCode}
{
        m_prevVertex = prevVertex;
        m_hasPrevVertex = true;
}
\end{DoxyCode}
\hypertarget{classb2_chain_shape_a4fc27b41ecc556985efacf8e0f91c39f}{\index{b2\-Chain\-Shape@{b2\-Chain\-Shape}!Test\-Point@{Test\-Point}}
\index{Test\-Point@{Test\-Point}!b2ChainShape@{b2\-Chain\-Shape}}
\subsubsection[{Test\-Point}]{\setlength{\rightskip}{0pt plus 5cm}bool {\bf b2\-Chain\-Shape\-::\-Test\-Point} (
\begin{DoxyParamCaption}
\item[{const {\bf b2\-Transform} \&}]{transform, }
\item[{const {\bf b2\-Vec2} \&}]{p}
\end{DoxyParamCaption}
) const\hspace{0.3cm}{\ttfamily  \mbox{[}virtual\mbox{]}}}}\label{classb2_chain_shape_a4fc27b41ecc556985efacf8e0f91c39f}
This always return false. \begin{DoxySeeAlso}{See also}
\hyperlink{classb2_shape_a6ac968e403e2d93e8ae46d728a2e50fa}{b2\-Shape\-::\-Test\-Point} 
\end{DoxySeeAlso}


Implements \hyperlink{classb2_shape_a6ac968e403e2d93e8ae46d728a2e50fa}{b2\-Shape}.


\begin{DoxyCode}
{
        B2_NOT_USED(xf);
        B2_NOT_USED(p);
        return false;
}
\end{DoxyCode}


The documentation for this class was generated from the following files\-:\begin{DoxyCompactItemize}
\item 
/\-Bing/\-File/cocos2d/cocos2d-\/iphone/cocos2d-\/iphone-\/2.\-1-\/beta4/external/\-Box2d/\-Box2\-D/\-Collision/\-Shapes/b2\-Chain\-Shape.\-h\item 
/\-Bing/\-File/cocos2d/cocos2d-\/iphone/cocos2d-\/iphone-\/2.\-1-\/beta4/external/\-Box2d/\-Box2\-D/\-Collision/\-Shapes/b2\-Chain\-Shape.\-cpp\end{DoxyCompactItemize}
