\hypertarget{b2_collision_8h}{\section{/\-Bing/\-File/cocos2d/cocos2d-\/iphone/cocos2d-\/iphone-\/2.1-\/beta4/external/\-Box2d/\-Box2\-D/\-Collision/b2\-Collision.h File Reference}
\label{b2_collision_8h}\index{/\-Bing/\-File/cocos2d/cocos2d-\/iphone/cocos2d-\/iphone-\/2.\-1-\/beta4/external/\-Box2d/\-Box2\-D/\-Collision/b2\-Collision.\-h@{/\-Bing/\-File/cocos2d/cocos2d-\/iphone/cocos2d-\/iphone-\/2.\-1-\/beta4/external/\-Box2d/\-Box2\-D/\-Collision/b2\-Collision.\-h}}
}
{\ttfamily \#include $<$Box2\-D/\-Common/b2\-Math.\-h$>$}\\*
{\ttfamily \#include $<$climits$>$}\\*
\subsection*{Classes}
\begin{DoxyCompactItemize}
\item 
struct \hyperlink{structb2_contact_feature}{b2\-Contact\-Feature}
\item 
union \hyperlink{unionb2_contact_i_d}{b2\-Contact\-I\-D}
\begin{DoxyCompactList}\small\item\em Contact ids to facilitate warm starting. \end{DoxyCompactList}\item 
struct \hyperlink{structb2_manifold_point}{b2\-Manifold\-Point}
\item 
struct \hyperlink{structb2_manifold}{b2\-Manifold}
\item 
struct \hyperlink{structb2_world_manifold}{b2\-World\-Manifold}
\begin{DoxyCompactList}\small\item\em This is used to compute the current state of a contact manifold. \end{DoxyCompactList}\item 
struct \hyperlink{structb2_clip_vertex}{b2\-Clip\-Vertex}
\begin{DoxyCompactList}\small\item\em Used for computing contact manifolds. \end{DoxyCompactList}\item 
struct \hyperlink{structb2_ray_cast_input}{b2\-Ray\-Cast\-Input}
\begin{DoxyCompactList}\small\item\em Ray-\/cast input data. The ray extends from p1 to p1 + max\-Fraction $\ast$ (p2 -\/ p1). \end{DoxyCompactList}\item 
struct \hyperlink{structb2_ray_cast_output}{b2\-Ray\-Cast\-Output}
\item 
struct \hyperlink{structb2_a_a_b_b}{b2\-A\-A\-B\-B}
\begin{DoxyCompactList}\small\item\em An axis aligned bounding box. \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsection*{Enumerations}
\begin{DoxyCompactItemize}
\item 
enum \hyperlink{b2_collision_8h_a0a894e3715ce8c61b7958dd6e083663d}{b2\-Point\-State} \{ \hyperlink{b2_collision_8h_a0a894e3715ce8c61b7958dd6e083663da7ce77ce1a592f49d92939997976c217b}{b2\-\_\-null\-State}, 
\hyperlink{b2_collision_8h_a0a894e3715ce8c61b7958dd6e083663dac60dc479bee2089a695b37948179b3d4}{b2\-\_\-add\-State}, 
\hyperlink{b2_collision_8h_a0a894e3715ce8c61b7958dd6e083663dafb032f2175741fa95361e55d1c069e0a}{b2\-\_\-persist\-State}, 
\hyperlink{b2_collision_8h_a0a894e3715ce8c61b7958dd6e083663da42ca6d7de57b948c8c895cd6f51ee8be}{b2\-\_\-remove\-State}
 \}
\begin{DoxyCompactList}\small\item\em This is used for determining the state of contact points. \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsection*{Functions}
\begin{DoxyCompactItemize}
\item 
void \hyperlink{b2_collision_8h_a401e2747d276e9fbfd131989e02ff568}{b2\-Get\-Point\-States} (\hyperlink{b2_collision_8h_a0a894e3715ce8c61b7958dd6e083663d}{b2\-Point\-State} state1\mbox{[}\hyperlink{b2_settings_8h_aa5f44cc9edf711433dea2b2ec94f3c42}{b2\-\_\-max\-Manifold\-Points}\mbox{]}, \hyperlink{b2_collision_8h_a0a894e3715ce8c61b7958dd6e083663d}{b2\-Point\-State} state2\mbox{[}\hyperlink{b2_settings_8h_aa5f44cc9edf711433dea2b2ec94f3c42}{b2\-\_\-max\-Manifold\-Points}\mbox{]}, const \hyperlink{structb2_manifold}{b2\-Manifold} $\ast$manifold1, const \hyperlink{structb2_manifold}{b2\-Manifold} $\ast$manifold2)
\item 
\hypertarget{b2_collision_8h_ab8a1bf2c6a9453307466f4870c1fa333}{void \hyperlink{b2_collision_8h_ab8a1bf2c6a9453307466f4870c1fa333}{b2\-Collide\-Circles} (\hyperlink{structb2_manifold}{b2\-Manifold} $\ast$manifold, const \hyperlink{classb2_circle_shape}{b2\-Circle\-Shape} $\ast$circle\-A, const \hyperlink{structb2_transform}{b2\-Transform} \&xf\-A, const \hyperlink{classb2_circle_shape}{b2\-Circle\-Shape} $\ast$circle\-B, const \hyperlink{structb2_transform}{b2\-Transform} \&xf\-B)}\label{b2_collision_8h_ab8a1bf2c6a9453307466f4870c1fa333}

\begin{DoxyCompactList}\small\item\em Compute the collision manifold between two circles. \end{DoxyCompactList}\item 
\hypertarget{b2_collision_8h_a30da13c857596fbefa40b47c3e1e78d0}{void \hyperlink{b2_collision_8h_a30da13c857596fbefa40b47c3e1e78d0}{b2\-Collide\-Polygon\-And\-Circle} (\hyperlink{structb2_manifold}{b2\-Manifold} $\ast$manifold, const \hyperlink{classb2_polygon_shape}{b2\-Polygon\-Shape} $\ast$polygon\-A, const \hyperlink{structb2_transform}{b2\-Transform} \&xf\-A, const \hyperlink{classb2_circle_shape}{b2\-Circle\-Shape} $\ast$circle\-B, const \hyperlink{structb2_transform}{b2\-Transform} \&xf\-B)}\label{b2_collision_8h_a30da13c857596fbefa40b47c3e1e78d0}

\begin{DoxyCompactList}\small\item\em Compute the collision manifold between a polygon and a circle. \end{DoxyCompactList}\item 
\hypertarget{b2_collision_8h_a2f7b9859479384c0e2cceb9e7744afcb}{void \hyperlink{b2_collision_8h_a2f7b9859479384c0e2cceb9e7744afcb}{b2\-Collide\-Polygons} (\hyperlink{structb2_manifold}{b2\-Manifold} $\ast$manifold, const \hyperlink{classb2_polygon_shape}{b2\-Polygon\-Shape} $\ast$polygon\-A, const \hyperlink{structb2_transform}{b2\-Transform} \&xf\-A, const \hyperlink{classb2_polygon_shape}{b2\-Polygon\-Shape} $\ast$polygon\-B, const \hyperlink{structb2_transform}{b2\-Transform} \&xf\-B)}\label{b2_collision_8h_a2f7b9859479384c0e2cceb9e7744afcb}

\begin{DoxyCompactList}\small\item\em Compute the collision manifold between two polygons. \end{DoxyCompactList}\item 
\hypertarget{b2_collision_8h_aee6f752fdf8c89152e824da12e944733}{void \hyperlink{b2_collision_8h_aee6f752fdf8c89152e824da12e944733}{b2\-Collide\-Edge\-And\-Circle} (\hyperlink{structb2_manifold}{b2\-Manifold} $\ast$manifold, const \hyperlink{classb2_edge_shape}{b2\-Edge\-Shape} $\ast$polygon\-A, const \hyperlink{structb2_transform}{b2\-Transform} \&xf\-A, const \hyperlink{classb2_circle_shape}{b2\-Circle\-Shape} $\ast$circle\-B, const \hyperlink{structb2_transform}{b2\-Transform} \&xf\-B)}\label{b2_collision_8h_aee6f752fdf8c89152e824da12e944733}

\begin{DoxyCompactList}\small\item\em Compute the collision manifold between an edge and a circle. \end{DoxyCompactList}\item 
\hypertarget{b2_collision_8h_a5d0c5fab412d5ca886b1965666b16d99}{void \hyperlink{b2_collision_8h_a5d0c5fab412d5ca886b1965666b16d99}{b2\-Collide\-Edge\-And\-Polygon} (\hyperlink{structb2_manifold}{b2\-Manifold} $\ast$manifold, const \hyperlink{classb2_edge_shape}{b2\-Edge\-Shape} $\ast$edge\-A, const \hyperlink{structb2_transform}{b2\-Transform} \&xf\-A, const \hyperlink{classb2_polygon_shape}{b2\-Polygon\-Shape} $\ast$circle\-B, const \hyperlink{structb2_transform}{b2\-Transform} \&xf\-B)}\label{b2_collision_8h_a5d0c5fab412d5ca886b1965666b16d99}

\begin{DoxyCompactList}\small\item\em Compute the collision manifold between an edge and a circle. \end{DoxyCompactList}\item 
\hypertarget{b2_collision_8h_a8b36e651798f55f2533f9837462ded41}{int32 \hyperlink{b2_collision_8h_a8b36e651798f55f2533f9837462ded41}{b2\-Clip\-Segment\-To\-Line} (\hyperlink{structb2_clip_vertex}{b2\-Clip\-Vertex} v\-Out\mbox{[}2\mbox{]}, const \hyperlink{structb2_clip_vertex}{b2\-Clip\-Vertex} v\-In\mbox{[}2\mbox{]}, const \hyperlink{structb2_vec2}{b2\-Vec2} \&normal, float32 offset, int32 vertex\-Index\-A)}\label{b2_collision_8h_a8b36e651798f55f2533f9837462ded41}

\begin{DoxyCompactList}\small\item\em Clipping for contact manifolds. \end{DoxyCompactList}\item 
\hypertarget{b2_collision_8h_ae7601420d0b42c1ee494e879dd2009a5}{bool \hyperlink{b2_collision_8h_ae7601420d0b42c1ee494e879dd2009a5}{b2\-Test\-Overlap} (const \hyperlink{classb2_shape}{b2\-Shape} $\ast$shape\-A, int32 index\-A, const \hyperlink{classb2_shape}{b2\-Shape} $\ast$shape\-B, int32 index\-B, const \hyperlink{structb2_transform}{b2\-Transform} \&xf\-A, const \hyperlink{structb2_transform}{b2\-Transform} \&xf\-B)}\label{b2_collision_8h_ae7601420d0b42c1ee494e879dd2009a5}

\begin{DoxyCompactList}\small\item\em Determine if two generic shapes overlap. \end{DoxyCompactList}\item 
\hypertarget{b2_collision_8h_a3dea7a8a1115626c450a697f6c6bf97e}{bool {\bfseries b2\-Test\-Overlap} (const \hyperlink{structb2_a_a_b_b}{b2\-A\-A\-B\-B} \&a, const \hyperlink{structb2_a_a_b_b}{b2\-A\-A\-B\-B} \&b)}\label{b2_collision_8h_a3dea7a8a1115626c450a697f6c6bf97e}

\end{DoxyCompactItemize}
\subsection*{Variables}
\begin{DoxyCompactItemize}
\item 
\hypertarget{b2_collision_8h_a910fdc8a802b3cac220f2ee873109818}{const uint8 {\bfseries b2\-\_\-null\-Feature} = U\-C\-H\-A\-R\-\_\-\-M\-A\-X}\label{b2_collision_8h_a910fdc8a802b3cac220f2ee873109818}

\end{DoxyCompactItemize}


\subsection{Detailed Description}
Structures and functions used for computing contact points, distance queries, and T\-O\-I queries. 

\subsection{Enumeration Type Documentation}
\hypertarget{b2_collision_8h_a0a894e3715ce8c61b7958dd6e083663d}{\index{b2\-Collision.\-h@{b2\-Collision.\-h}!b2\-Point\-State@{b2\-Point\-State}}
\index{b2\-Point\-State@{b2\-Point\-State}!b2Collision.h@{b2\-Collision.\-h}}
\subsubsection[{b2\-Point\-State}]{\setlength{\rightskip}{0pt plus 5cm}enum {\bf b2\-Point\-State}}}\label{b2_collision_8h_a0a894e3715ce8c61b7958dd6e083663d}


This is used for determining the state of contact points. 

\begin{Desc}
\item[Enumerator\-: ]\par
\begin{description}
\index{b2\-\_\-null\-State@{b2\-\_\-null\-State}!b2\-Collision.\-h@{b2\-Collision.\-h}}\index{b2\-Collision.\-h@{b2\-Collision.\-h}!b2\-\_\-null\-State@{b2\-\_\-null\-State}}\item[{\em 
\hypertarget{b2_collision_8h_a0a894e3715ce8c61b7958dd6e083663da7ce77ce1a592f49d92939997976c217b}{b2\-\_\-null\-State}\label{b2_collision_8h_a0a894e3715ce8c61b7958dd6e083663da7ce77ce1a592f49d92939997976c217b}
}]point does not exist \index{b2\-\_\-add\-State@{b2\-\_\-add\-State}!b2\-Collision.\-h@{b2\-Collision.\-h}}\index{b2\-Collision.\-h@{b2\-Collision.\-h}!b2\-\_\-add\-State@{b2\-\_\-add\-State}}\item[{\em 
\hypertarget{b2_collision_8h_a0a894e3715ce8c61b7958dd6e083663dac60dc479bee2089a695b37948179b3d4}{b2\-\_\-add\-State}\label{b2_collision_8h_a0a894e3715ce8c61b7958dd6e083663dac60dc479bee2089a695b37948179b3d4}
}]point was added in the update \index{b2\-\_\-persist\-State@{b2\-\_\-persist\-State}!b2\-Collision.\-h@{b2\-Collision.\-h}}\index{b2\-Collision.\-h@{b2\-Collision.\-h}!b2\-\_\-persist\-State@{b2\-\_\-persist\-State}}\item[{\em 
\hypertarget{b2_collision_8h_a0a894e3715ce8c61b7958dd6e083663dafb032f2175741fa95361e55d1c069e0a}{b2\-\_\-persist\-State}\label{b2_collision_8h_a0a894e3715ce8c61b7958dd6e083663dafb032f2175741fa95361e55d1c069e0a}
}]point persisted across the update \index{b2\-\_\-remove\-State@{b2\-\_\-remove\-State}!b2\-Collision.\-h@{b2\-Collision.\-h}}\index{b2\-Collision.\-h@{b2\-Collision.\-h}!b2\-\_\-remove\-State@{b2\-\_\-remove\-State}}\item[{\em 
\hypertarget{b2_collision_8h_a0a894e3715ce8c61b7958dd6e083663da42ca6d7de57b948c8c895cd6f51ee8be}{b2\-\_\-remove\-State}\label{b2_collision_8h_a0a894e3715ce8c61b7958dd6e083663da42ca6d7de57b948c8c895cd6f51ee8be}
}]point was removed in the update \end{description}
\end{Desc}


\begin{DoxyCode}
{
        b2_nullState,           
        b2_addState,            
        b2_persistState,        
        b2_removeState          
};
\end{DoxyCode}


\subsection{Function Documentation}
\hypertarget{b2_collision_8h_a401e2747d276e9fbfd131989e02ff568}{\index{b2\-Collision.\-h@{b2\-Collision.\-h}!b2\-Get\-Point\-States@{b2\-Get\-Point\-States}}
\index{b2\-Get\-Point\-States@{b2\-Get\-Point\-States}!b2Collision.h@{b2\-Collision.\-h}}
\subsubsection[{b2\-Get\-Point\-States}]{\setlength{\rightskip}{0pt plus 5cm}void {\bf b2\-Get\-Point\-States} (
\begin{DoxyParamCaption}
\item[{{\bf b2\-Point\-State}}]{state1\mbox{[}b2\-\_\-max\-Manifold\-Points\mbox{]}, }
\item[{{\bf b2\-Point\-State}}]{state2\mbox{[}b2\-\_\-max\-Manifold\-Points\mbox{]}, }
\item[{const {\bf b2\-Manifold} $\ast$}]{manifold1, }
\item[{const {\bf b2\-Manifold} $\ast$}]{manifold2}
\end{DoxyParamCaption}
)}}\label{b2_collision_8h_a401e2747d276e9fbfd131989e02ff568}
Compute the point states given two manifolds. The states pertain to the transition from manifold1 to manifold2. So state1 is either persist or remove while state2 is either add or persist. 
\begin{DoxyCode}
{
        for (int32 i = 0; i < b2_maxManifoldPoints; ++i)
        {
                state1[i] = b2_nullState;
                state2[i] = b2_nullState;
        }

        // Detect persists and removes.
        for (int32 i = 0; i < manifold1->pointCount; ++i)
        {
                b2ContactID id = manifold1->points[i].id;

                state1[i] = b2_removeState;

                for (int32 j = 0; j < manifold2->pointCount; ++j)
                {
                        if (manifold2->points[j].id.key == id.key)
                        {
                                state1[i] = b2_persistState;
                                break;
                        }
                }
        }

        // Detect persists and adds.
        for (int32 i = 0; i < manifold2->pointCount; ++i)
        {
                b2ContactID id = manifold2->points[i].id;

                state2[i] = b2_addState;

                for (int32 j = 0; j < manifold1->pointCount; ++j)
                {
                        if (manifold1->points[j].id.key == id.key)
                        {
                                state2[i] = b2_persistState;
                                break;
                        }
                }
        }
}
\end{DoxyCode}
