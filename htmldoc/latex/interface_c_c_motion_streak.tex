\hypertarget{interface_c_c_motion_streak}{\section{C\-C\-Motion\-Streak Class Reference}
\label{interface_c_c_motion_streak}\index{C\-C\-Motion\-Streak@{C\-C\-Motion\-Streak}}
}


{\ttfamily \#import $<$C\-C\-Motion\-Streak.\-h$>$}

Inheritance diagram for C\-C\-Motion\-Streak\-:\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[height=3.000000cm]{interface_c_c_motion_streak}
\end{center}
\end{figure}
\subsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
(id) -\/ \hyperlink{interface_c_c_motion_streak_aa658d1dfa722a3d8ef658642373ebe22}{init\-With\-Fade\-:min\-Seg\-:width\-:color\-:texture\-Filename\-:}
\item 
(id) -\/ \hyperlink{interface_c_c_motion_streak_afb55337ec2cd41c7d06bbf506adbeddc}{init\-With\-Fade\-:min\-Seg\-:width\-:color\-:texture\-:}
\item 
(void) -\/ \hyperlink{interface_c_c_motion_streak_a363533a58da3fd731617f31aa952bb16}{tint\-With\-Color\-:}
\item 
(void) -\/ \hyperlink{interface_c_c_motion_streak_a5a1a9784ab58af1e78316faa04d3288f}{reset}
\end{DoxyCompactItemize}
\subsection*{Static Public Member Functions}
\begin{DoxyCompactItemize}
\item 
(id) + \hyperlink{interface_c_c_motion_streak_a74bb165593c5a4a1802ab3fe19c14a0b}{streak\-With\-Fade\-:min\-Seg\-:width\-:color\-:texture\-Filename\-:}
\item 
(id) + \hyperlink{interface_c_c_motion_streak_a5715594cc333622f845a4b5506726a37}{streak\-With\-Fade\-:min\-Seg\-:width\-:color\-:texture\-:}
\end{DoxyCompactItemize}
\subsection*{Protected Attributes}
\begin{DoxyCompactItemize}
\item 
\hypertarget{interface_c_c_motion_streak_a1a79e1bbb4d7a768957c4f55ff362e1e}{\hyperlink{class_c_c_texture2_d}{C\-C\-Texture2\-D} $\ast$ {\bfseries texture\-\_\-}}\label{interface_c_c_motion_streak_a1a79e1bbb4d7a768957c4f55ff362e1e}

\item 
\hypertarget{interface_c_c_motion_streak_ae9c40ee51627a54755ba4db03487f04a}{C\-G\-Point {\bfseries position\-R\-\_\-}}\label{interface_c_c_motion_streak_ae9c40ee51627a54755ba4db03487f04a}

\item 
\hypertarget{interface_c_c_motion_streak_a0f242b217439e6b28172de5c03479ab4}{\hyperlink{cc_types_8h_a829b00c53e72f0115e3880cb508fec1e}{cc\-Color3\-B} {\bfseries color\-\_\-}}\label{interface_c_c_motion_streak_a0f242b217439e6b28172de5c03479ab4}

\item 
\hypertarget{interface_c_c_motion_streak_ab3f62b4a653a3e0dd5fe8433b5bae970}{\hyperlink{cc_types_8h_a8c19c6f67219ecc0a6e4740cc046008d}{cc\-Blend\-Func} {\bfseries blend\-Func\-\_\-}}\label{interface_c_c_motion_streak_ab3f62b4a653a3e0dd5fe8433b5bae970}

\item 
\hypertarget{interface_c_c_motion_streak_a7dcd466096a49cf068bc71620ae3059a}{float {\bfseries stroke\-\_\-}}\label{interface_c_c_motion_streak_a7dcd466096a49cf068bc71620ae3059a}

\item 
\hypertarget{interface_c_c_motion_streak_a3b65b4cfd2ab03731376fcfde22e4ea2}{float {\bfseries fade\-Delta\-\_\-}}\label{interface_c_c_motion_streak_a3b65b4cfd2ab03731376fcfde22e4ea2}

\item 
\hypertarget{interface_c_c_motion_streak_a7a0011543d3b75e9c4dc681421d11a85}{float {\bfseries min\-Seg\-\_\-}}\label{interface_c_c_motion_streak_a7a0011543d3b75e9c4dc681421d11a85}

\item 
\hypertarget{interface_c_c_motion_streak_aa171ad8a6a5b2086f6f67687a833c845}{N\-S\-U\-Integer {\bfseries max\-Points\-\_\-}}\label{interface_c_c_motion_streak_aa171ad8a6a5b2086f6f67687a833c845}

\item 
\hypertarget{interface_c_c_motion_streak_a21d496107826a74ecc241f17f65ddce5}{N\-S\-U\-Integer {\bfseries nu\-Points\-\_\-}}\label{interface_c_c_motion_streak_a21d496107826a74ecc241f17f65ddce5}

\item 
\hypertarget{interface_c_c_motion_streak_a22c959b31badeeeb36941d6f92466adc}{N\-S\-U\-Integer {\bfseries previous\-Nu\-Points\-\_\-}}\label{interface_c_c_motion_streak_a22c959b31badeeeb36941d6f92466adc}

\item 
C\-G\-Point $\ast$ \hyperlink{interface_c_c_motion_streak_a58ea167294acf31a90d555a2d0e786ca}{point\-Vertexes\-\_\-}
\item 
\hypertarget{interface_c_c_motion_streak_a73214c86116cf048750c6d8f4eadd9bc}{float $\ast$ {\bfseries point\-State\-\_\-}}\label{interface_c_c_motion_streak_a73214c86116cf048750c6d8f4eadd9bc}

\item 
\hypertarget{interface_c_c_motion_streak_ad62b5e3b08e520c9c06e2d0d69c7ad2e}{\hyperlink{cc_types_8h_a3d0a9a02a1f9787a9ede91b9a74bf41f}{cc\-Vertex2\-F} $\ast$ {\bfseries vertices\-\_\-}}\label{interface_c_c_motion_streak_ad62b5e3b08e520c9c06e2d0d69c7ad2e}

\item 
\hypertarget{interface_c_c_motion_streak_a21ab23cbeeeec5a2f57a2ee10a94b7aa}{unsigned char $\ast$ {\bfseries color\-Pointer\-\_\-}}\label{interface_c_c_motion_streak_a21ab23cbeeeec5a2f57a2ee10a94b7aa}

\item 
\hypertarget{interface_c_c_motion_streak_a4232f7817c10ce6971392d1f7df22542}{\hyperlink{cc_types_8h_a95226f1345c203215cc1f419aafe47c5}{cc\-Tex2\-F} $\ast$ {\bfseries tex\-Coords\-\_\-}}\label{interface_c_c_motion_streak_a4232f7817c10ce6971392d1f7df22542}

\item 
\hypertarget{interface_c_c_motion_streak_ade9f7f52901fd8d3a2a9dbe1cf1f1e22}{B\-O\-O\-L {\bfseries fast\-Mode\-\_\-}}\label{interface_c_c_motion_streak_ade9f7f52901fd8d3a2a9dbe1cf1f1e22}

\item 
\hypertarget{interface_c_c_motion_streak_a22bf111d88fe05391be5491d3148131a}{B\-O\-O\-L {\bfseries starting\-Position\-Initialized\-\_\-}}\label{interface_c_c_motion_streak_a22bf111d88fe05391be5491d3148131a}

\end{DoxyCompactItemize}
\subsection*{Properties}
\begin{DoxyCompactItemize}
\item 
\hyperlink{cc_types_8h_a8c19c6f67219ecc0a6e4740cc046008d}{cc\-Blend\-Func} \hyperlink{interface_c_c_motion_streak_ad416284b4905208b9fd097ead67676ed}{blend\-Func}
\item 
B\-O\-O\-L \hyperlink{interface_c_c_motion_streak_a846cf793fa172c061b1a0ec253ecae06}{fast\-Mode}
\item 
\hyperlink{class_c_c_texture2_d}{C\-C\-Texture2\-D} $\ast$ \hyperlink{interface_c_c_motion_streak_a59685cc2f6f090df6e3a337ba18efead}{texture}
\end{DoxyCompactItemize}


\subsection{Detailed Description}
Motion\-Streak. Creates a trailing path. 

\subsection{Member Function Documentation}
\hypertarget{interface_c_c_motion_streak_afb55337ec2cd41c7d06bbf506adbeddc}{\index{C\-C\-Motion\-Streak@{C\-C\-Motion\-Streak}!init\-With\-Fade\-:min\-Seg\-:width\-:color\-:texture\-:@{init\-With\-Fade\-:min\-Seg\-:width\-:color\-:texture\-:}}
\index{init\-With\-Fade\-:min\-Seg\-:width\-:color\-:texture\-:@{init\-With\-Fade\-:min\-Seg\-:width\-:color\-:texture\-:}!CCMotionStreak@{C\-C\-Motion\-Streak}}
\subsubsection[{init\-With\-Fade\-:min\-Seg\-:width\-:color\-:texture\-:}]{\setlength{\rightskip}{0pt plus 5cm}-\/ (id) init\-With\-Fade\-: 
\begin{DoxyParamCaption}
\item[{(float)}]{fade}
\item[{minSeg:(float)}]{min\-Seg}
\item[{width:(float)}]{stroke}
\item[{color:({\bf cc\-Color3\-B})}]{color}
\item[{texture:({\bf C\-C\-Texture2\-D}$\ast$)}]{texture}
\end{DoxyParamCaption}
}}\label{interface_c_c_motion_streak_afb55337ec2cd41c7d06bbf506adbeddc}
initializes a motion streak with fade in seconds, minimum segments, stroke's width, color and texture 

Referenced by init\-With\-Fade\-:min\-Seg\-:width\-:color\-:texture\-Filename\-:.


\begin{DoxyCode}
                   :(float)fade minSeg:(float)minSeg width:(float)stroke color:
      (ccColor3B)color texture:(CCTexture2D*)texture
{
    self = [super init];
    if (self)
    {
        [super setPosition:CGPointZero];
        [self setAnchorPoint:CGPointZero];
        [self setIgnoreAnchorPointForPosition:YES];

                startingPositionInitialized_ = NO;
        positionR_ = CGPointZero;
        fastMode_ = YES;
        minSeg_ = (minSeg == -1.0f) ? stroke/5.0f : minSeg;
        minSeg_ *= minSeg_;

        stroke_ = stroke;
        fadeDelta_ = 1.0f/fade;

        maxPoints_ = (int)(fade*60.0f)+2;
        nuPoints_ = previousNuPoints_ = 0;
        pointState_ = malloc(sizeof(float) * maxPoints_);
        pointVertexes_ = malloc(sizeof(CGPoint) * maxPoints_);

        vertices_ = malloc(sizeof(ccVertex2F) * maxPoints_ * 2);
        texCoords_ = malloc(sizeof(ccTex2F) * maxPoints_ * 2);
        colorPointer_ =  malloc(sizeof(GLubyte) * maxPoints_ * 2 * 4);

        // Set blend mode
        blendFunc_.src = GL_SRC_ALPHA;
                blendFunc_.dst = GL_ONE_MINUS_SRC_ALPHA;

                // shader program
                self.shaderProgram = [[CCShaderCache sharedShaderCache] 
      programForKey:kCCShader_PositionTextureColor];

        [self setTexture:texture];
        [self setColor:color];
        [self scheduleUpdate];
                
    }
    return self;
}
\end{DoxyCode}
\hypertarget{interface_c_c_motion_streak_aa658d1dfa722a3d8ef658642373ebe22}{\index{C\-C\-Motion\-Streak@{C\-C\-Motion\-Streak}!init\-With\-Fade\-:min\-Seg\-:width\-:color\-:texture\-Filename\-:@{init\-With\-Fade\-:min\-Seg\-:width\-:color\-:texture\-Filename\-:}}
\index{init\-With\-Fade\-:min\-Seg\-:width\-:color\-:texture\-Filename\-:@{init\-With\-Fade\-:min\-Seg\-:width\-:color\-:texture\-Filename\-:}!CCMotionStreak@{C\-C\-Motion\-Streak}}
\subsubsection[{init\-With\-Fade\-:min\-Seg\-:width\-:color\-:texture\-Filename\-:}]{\setlength{\rightskip}{0pt plus 5cm}-\/ (id) init\-With\-Fade\-: 
\begin{DoxyParamCaption}
\item[{(float)}]{fade}
\item[{minSeg:(float)}]{min\-Seg}
\item[{width:(float)}]{stroke}
\item[{color:({\bf cc\-Color3\-B})}]{color}
\item[{textureFilename:(N\-S\-String$\ast$)}]{path}
\end{DoxyParamCaption}
}}\label{interface_c_c_motion_streak_aa658d1dfa722a3d8ef658642373ebe22}
initializes a motion streak with fade in seconds, minimum segments, stroke's width, color and texture filename 
\begin{DoxyCode}
                   :(float)fade minSeg:(float)minSeg width:(float)stroke color:
      (ccColor3B)color textureFilename:(NSString*)path
{
    NSAssert(path != nil, @"Invalid filename");

    CCTexture2D *texture = [[CCTextureCache sharedTextureCache] addImage:path];
    return [self initWithFade:fade minSeg:minSeg width:stroke color:color 
      texture:texture];
}
\end{DoxyCode}
\hypertarget{interface_c_c_motion_streak_a5a1a9784ab58af1e78316faa04d3288f}{\index{C\-C\-Motion\-Streak@{C\-C\-Motion\-Streak}!reset@{reset}}
\index{reset@{reset}!CCMotionStreak@{C\-C\-Motion\-Streak}}
\subsubsection[{reset}]{\setlength{\rightskip}{0pt plus 5cm}-\/ (void) {\bf reset} 
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
}}\label{interface_c_c_motion_streak_a5a1a9784ab58af1e78316faa04d3288f}
Remove all living segments of the ribbon 
\begin{DoxyCode}
{
    nuPoints_ = 0;
}
\end{DoxyCode}
\hypertarget{interface_c_c_motion_streak_a5715594cc333622f845a4b5506726a37}{\index{C\-C\-Motion\-Streak@{C\-C\-Motion\-Streak}!streak\-With\-Fade\-:min\-Seg\-:width\-:color\-:texture\-:@{streak\-With\-Fade\-:min\-Seg\-:width\-:color\-:texture\-:}}
\index{streak\-With\-Fade\-:min\-Seg\-:width\-:color\-:texture\-:@{streak\-With\-Fade\-:min\-Seg\-:width\-:color\-:texture\-:}!CCMotionStreak@{C\-C\-Motion\-Streak}}
\subsubsection[{streak\-With\-Fade\-:min\-Seg\-:width\-:color\-:texture\-:}]{\setlength{\rightskip}{0pt plus 5cm}+ (id) streak\-With\-Fade\-: 
\begin{DoxyParamCaption}
\item[{(float)}]{fade}
\item[{minSeg:(float)}]{min\-Seg}
\item[{width:(float)}]{stroke}
\item[{color:({\bf cc\-Color3\-B})}]{color}
\item[{texture:({\bf C\-C\-Texture2\-D}$\ast$)}]{texture}
\end{DoxyParamCaption}
}}\label{interface_c_c_motion_streak_a5715594cc333622f845a4b5506726a37}
creates and initializes a motion streak with fade in seconds, minimum segments, stroke's width, color, texture 
\begin{DoxyCode}
                     :(float)fade minSeg:(float)minSeg width:(float)stroke 
      color:(ccColor3B)color texture:(CCTexture2D*)texture
{
    return [[[self alloc] initWithFade:fade minSeg:minSeg width:stroke color:
      color texture:texture] autorelease];
}
\end{DoxyCode}
\hypertarget{interface_c_c_motion_streak_a74bb165593c5a4a1802ab3fe19c14a0b}{\index{C\-C\-Motion\-Streak@{C\-C\-Motion\-Streak}!streak\-With\-Fade\-:min\-Seg\-:width\-:color\-:texture\-Filename\-:@{streak\-With\-Fade\-:min\-Seg\-:width\-:color\-:texture\-Filename\-:}}
\index{streak\-With\-Fade\-:min\-Seg\-:width\-:color\-:texture\-Filename\-:@{streak\-With\-Fade\-:min\-Seg\-:width\-:color\-:texture\-Filename\-:}!CCMotionStreak@{C\-C\-Motion\-Streak}}
\subsubsection[{streak\-With\-Fade\-:min\-Seg\-:width\-:color\-:texture\-Filename\-:}]{\setlength{\rightskip}{0pt plus 5cm}+ (id) streak\-With\-Fade\-: 
\begin{DoxyParamCaption}
\item[{(float)}]{fade}
\item[{minSeg:(float)}]{min\-Seg}
\item[{width:(float)}]{stroke}
\item[{color:({\bf cc\-Color3\-B})}]{color}
\item[{textureFilename:(N\-S\-String$\ast$)}]{path}
\end{DoxyParamCaption}
}}\label{interface_c_c_motion_streak_a74bb165593c5a4a1802ab3fe19c14a0b}
creates and initializes a motion streak with fade in seconds, minimum segments, stroke's width, color, texture filename 
\begin{DoxyCode}
                     :(float)fade minSeg:(float)minSeg width:(float)stroke 
      color:(ccColor3B)color textureFilename:(NSString*)path
{
    return [[[self alloc] initWithFade:fade minSeg:minSeg width:stroke color:
      color textureFilename:path] autorelease];
}
\end{DoxyCode}
\hypertarget{interface_c_c_motion_streak_a363533a58da3fd731617f31aa952bb16}{\index{C\-C\-Motion\-Streak@{C\-C\-Motion\-Streak}!tint\-With\-Color\-:@{tint\-With\-Color\-:}}
\index{tint\-With\-Color\-:@{tint\-With\-Color\-:}!CCMotionStreak@{C\-C\-Motion\-Streak}}
\subsubsection[{tint\-With\-Color\-:}]{\setlength{\rightskip}{0pt plus 5cm}-\/ (void) {\bf tint\-With\-Color\-:} 
\begin{DoxyParamCaption}
\item[{({\bf cc\-Color3\-B})}]{colors}
\end{DoxyParamCaption}
}}\label{interface_c_c_motion_streak_a363533a58da3fd731617f31aa952bb16}
color used for the tint 
\begin{DoxyCode}
                      :(ccColor3B)colors
{
    [self setColor:colors];

    // Fast assignation
    for(int i = 0; i<nuPoints_*2; i++)
        *((ccColor3B*) (colorPointer_+i*4)) = colors;
}
\end{DoxyCode}


\subsection{Member Data Documentation}
\hypertarget{interface_c_c_motion_streak_a58ea167294acf31a90d555a2d0e786ca}{\index{C\-C\-Motion\-Streak@{C\-C\-Motion\-Streak}!point\-Vertexes\-\_\-@{point\-Vertexes\-\_\-}}
\index{point\-Vertexes\-\_\-@{point\-Vertexes\-\_\-}!CCMotionStreak@{C\-C\-Motion\-Streak}}
\subsubsection[{point\-Vertexes\-\_\-}]{\setlength{\rightskip}{0pt plus 5cm}-\/ (C\-G\-Point$\ast$) {\bf point\-Vertexes\-\_\-}\hspace{0.3cm}{\ttfamily  \mbox{[}protected\mbox{]}}}}\label{interface_c_c_motion_streak_a58ea167294acf31a90d555a2d0e786ca}
Pointers 

Referenced by init\-With\-Fade\-:min\-Seg\-:width\-:color\-:texture\-:.



\subsection{Property Documentation}
\hypertarget{interface_c_c_motion_streak_ad416284b4905208b9fd097ead67676ed}{\index{C\-C\-Motion\-Streak@{C\-C\-Motion\-Streak}!blend\-Func@{blend\-Func}}
\index{blend\-Func@{blend\-Func}!CCMotionStreak@{C\-C\-Motion\-Streak}}
\subsubsection[{blend\-Func}]{\setlength{\rightskip}{0pt plus 5cm}-\/ ({\bf cc\-Blend\-Func}) {\bf blend\-Func}\hspace{0.3cm}{\ttfamily  \mbox{[}read, write, assign\mbox{]}}}}\label{interface_c_c_motion_streak_ad416284b4905208b9fd097ead67676ed}
blending function \hypertarget{interface_c_c_motion_streak_a846cf793fa172c061b1a0ec253ecae06}{\index{C\-C\-Motion\-Streak@{C\-C\-Motion\-Streak}!fast\-Mode@{fast\-Mode}}
\index{fast\-Mode@{fast\-Mode}!CCMotionStreak@{C\-C\-Motion\-Streak}}
\subsubsection[{fast\-Mode}]{\setlength{\rightskip}{0pt plus 5cm}-\/ (B\-O\-O\-L) {\bf fast\-Mode}\hspace{0.3cm}{\ttfamily  \mbox{[}read, write, assign\mbox{]}}}}\label{interface_c_c_motion_streak_a846cf793fa172c061b1a0ec253ecae06}
When fast mode is enabled, new points are added faster but with lower precision \hypertarget{interface_c_c_motion_streak_a59685cc2f6f090df6e3a337ba18efead}{\index{C\-C\-Motion\-Streak@{C\-C\-Motion\-Streak}!texture@{texture}}
\index{texture@{texture}!CCMotionStreak@{C\-C\-Motion\-Streak}}
\subsubsection[{texture}]{\setlength{\rightskip}{0pt plus 5cm}-\/ ({\bf C\-C\-Texture2\-D}$\ast$) {\bf texture}\hspace{0.3cm}{\ttfamily  \mbox{[}read, write, retain\mbox{]}}}}\label{interface_c_c_motion_streak_a59685cc2f6f090df6e3a337ba18efead}
texture used for the motion streak 

The documentation for this class was generated from the following files\-:\begin{DoxyCompactItemize}
\item 
/\-Bing/\-File/cocos2d/cocos2d-\/iphone/cocos2d-\/iphone-\/2.\-1-\/beta4/cocos2d/C\-C\-Motion\-Streak.\-h\item 
/\-Bing/\-File/cocos2d/cocos2d-\/iphone/cocos2d-\/iphone-\/2.\-1-\/beta4/cocos2d/C\-C\-Motion\-Streak.\-m\end{DoxyCompactItemize}
