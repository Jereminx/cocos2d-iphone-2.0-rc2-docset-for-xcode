\hypertarget{interface_c_d_long_audio_source}{\section{C\-D\-Long\-Audio\-Source Class Reference}
\label{interface_c_d_long_audio_source}\index{C\-D\-Long\-Audio\-Source@{C\-D\-Long\-Audio\-Source}}
}


{\ttfamily \#import $<$C\-D\-Audio\-Manager.\-h$>$}

Inheritance diagram for C\-D\-Long\-Audio\-Source\-:\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[height=2.000000cm]{interface_c_d_long_audio_source}
\end{center}
\end{figure}
\subsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
(void) -\/ \hyperlink{interface_c_d_long_audio_source_a50cff2f77f96cf9a2655d5e18af9f225}{load\-:}
\item 
(void) -\/ \hyperlink{interface_c_d_long_audio_source_a2e2e9ba6cb50860a4ef8e310dc8eab65}{play}
\item 
(void) -\/ \hyperlink{interface_c_d_long_audio_source_ae77879d7c0e770cf58f8b8fb27cc29d4}{stop}
\item 
(void) -\/ \hyperlink{interface_c_d_long_audio_source_a66db0e34e875823c4c0ea87b2036369c}{pause}
\item 
(void) -\/ \hyperlink{interface_c_d_long_audio_source_a2641a580b551bbd9e3ae8473af697284}{rewind}
\item 
(void) -\/ \hyperlink{interface_c_d_long_audio_source_a0cbc59ea523580c5e5338063b7a0df5f}{resume}
\item 
(B\-O\-O\-L) -\/ \hyperlink{interface_c_d_long_audio_source_a555f3c24d76f6e4d23bd809c2d064994}{is\-Playing}
\end{DoxyCompactItemize}
\subsection*{Public Attributes}
\begin{DoxyCompactItemize}
\item 
\hypertarget{interface_c_d_long_audio_source_a0b3ae1b0fd9e1c07e45cf0d42dc9da99}{B\-O\-O\-L {\bfseries system\-Paused}}\label{interface_c_d_long_audio_source_a0b3ae1b0fd9e1c07e45cf0d42dc9da99}

\item 
\hypertarget{interface_c_d_long_audio_source_a8955dbe7f4db7914793b01adab5cb23e}{N\-S\-Time\-Interval {\bfseries system\-Pause\-Location}}\label{interface_c_d_long_audio_source_a8955dbe7f4db7914793b01adab5cb23e}

\end{DoxyCompactItemize}
\subsection*{Protected Attributes}
\begin{DoxyCompactItemize}
\item 
\hypertarget{interface_c_d_long_audio_source_a3402e241a03e28234bb22bb6ab6aad87}{B\-O\-O\-L {\bfseries mute}}\label{interface_c_d_long_audio_source_a3402e241a03e28234bb22bb6ab6aad87}

\item 
\hypertarget{interface_c_d_long_audio_source_af7bd033921e1c38c24c767ced5f4ca3e}{B\-O\-O\-L {\bfseries enabled\-\_\-}}\label{interface_c_d_long_audio_source_af7bd033921e1c38c24c767ced5f4ca3e}

\item 
\hypertarget{interface_c_d_long_audio_source_a40c0707fa345c90af619984ad6262f0c}{t\-Long\-Audio\-Source\-State {\bfseries state}}\label{interface_c_d_long_audio_source_a40c0707fa345c90af619984ad6262f0c}

\end{DoxyCompactItemize}
\subsection*{Properties}
\begin{DoxyCompactItemize}
\item 
\hypertarget{interface_c_d_long_audio_source_a286b94077fd473f116bece1d84189c80}{A\-V\-Audio\-Player $\ast$ {\bfseries audio\-Source\-Player}}\label{interface_c_d_long_audio_source_a286b94077fd473f116bece1d84189c80}

\item 
\hypertarget{interface_c_d_long_audio_source_a04f4635df6e90a7f2f3b7a571a9c43cf}{N\-S\-String $\ast$ {\bfseries audio\-Source\-File\-Path}}\label{interface_c_d_long_audio_source_a04f4635df6e90a7f2f3b7a571a9c43cf}

\item 
\hypertarget{interface_c_d_long_audio_source_a46736092910939328b9b4aabb43b25a5}{N\-S\-Integer {\bfseries number\-Of\-Loops}}\label{interface_c_d_long_audio_source_a46736092910939328b9b4aabb43b25a5}

\item 
\hypertarget{interface_c_d_long_audio_source_a4fb558153e158b558e9e32072dfb246b}{float {\bfseries volume}}\label{interface_c_d_long_audio_source_a4fb558153e158b558e9e32072dfb246b}

\item 
\hypertarget{interface_c_d_long_audio_source_a690db0af7c17d28ca88a7103f8c99cad}{id$<$ \hyperlink{protocol_c_d_long_audio_source_delegate-p}{C\-D\-Long\-Audio\-Source\-Delegate} $>$ {\bfseries delegate}}\label{interface_c_d_long_audio_source_a690db0af7c17d28ca88a7103f8c99cad}

\item 
\hypertarget{interface_c_d_long_audio_source_afcc5b159e3dd6feb30ab6de9c331ea11}{B\-O\-O\-L {\bfseries background\-Music}}\label{interface_c_d_long_audio_source_afcc5b159e3dd6feb30ab6de9c331ea11}

\end{DoxyCompactItemize}


\subsection{Detailed Description}
\hyperlink{interface_c_d_long_audio_source}{C\-D\-Long\-Audio\-Source} represents an audio source that has a long duration which makes it costly to load into memory for playback as an effect using \hyperlink{interface_c_d_sound_engine}{C\-D\-Sound\-Engine}. Examples include background music and narration tracks. The audio file may or may not be compressed. Bear in mind that current i\-Devices can only use hardware to decode a single compressed audio file at a time and playing multiple compressed files will result in a performance drop as software decompression will take place. \begin{DoxySince}{Since}
v0.\-99 
\end{DoxySince}


\subsection{Member Function Documentation}
\hypertarget{interface_c_d_long_audio_source_a555f3c24d76f6e4d23bd809c2d064994}{\index{C\-D\-Long\-Audio\-Source@{C\-D\-Long\-Audio\-Source}!is\-Playing@{is\-Playing}}
\index{is\-Playing@{is\-Playing}!CDLongAudioSource@{C\-D\-Long\-Audio\-Source}}
\subsubsection[{is\-Playing}]{\setlength{\rightskip}{0pt plus 5cm}-\/ (B\-O\-O\-L) {\bf is\-Playing} 
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
}}\label{interface_c_d_long_audio_source_a555f3c24d76f6e4d23bd809c2d064994}
Returns whether or not the audio source is playing 

Referenced by C\-D\-Audio\-Manager\-::application\-Will\-Resign\-Active.


\begin{DoxyCode}
                  {
        if (state != kLAS_Init) {
                return [audioSourcePlayer isPlaying];
        } else {
                return NO;
        }
}
\end{DoxyCode}
\hypertarget{interface_c_d_long_audio_source_a50cff2f77f96cf9a2655d5e18af9f225}{\index{C\-D\-Long\-Audio\-Source@{C\-D\-Long\-Audio\-Source}!load\-:@{load\-:}}
\index{load\-:@{load\-:}!CDLongAudioSource@{C\-D\-Long\-Audio\-Source}}
\subsubsection[{load\-:}]{\setlength{\rightskip}{0pt plus 5cm}-\/ (void) {\bf load\-:} 
\begin{DoxyParamCaption}
\item[{(N\-S\-String$\ast$)}]{file\-Path}
\end{DoxyParamCaption}
}}\label{interface_c_d_long_audio_source_a50cff2f77f96cf9a2655d5e18af9f225}
Loads the file into the audio source 

Referenced by C\-D\-Audio\-Manager\-::audio\-Source\-Load\-:channel\-:.


\begin{DoxyCode}
            :(NSString*) filePath {
        //We have alread loaded a file previously,  check if we are being asked
       to load the same file
        if (state == kLAS_Init || ![filePath isEqualToString:
      audioSourceFilePath]) {
                CDLOGINFO(@"Denshion::CDLongAudioSource - Loading new audio
       source %@",filePath);
                //New file
                if (state != kLAS_Init) {
                        [audioSourceFilePath release];//Release old file path
                        [audioSourcePlayer release];//Release old
       AVAudioPlayer, they can't be reused
                }
                audioSourceFilePath = [filePath copy];
                NSError *error = nil;
                NSString *path = [CDUtilities fullPathFromRelativePath:
      audioSourceFilePath];
                audioSourcePlayer = [(AVAudioPlayer*)[AVAudioPlayer alloc] 
      initWithContentsOfURL:[NSURL fileURLWithPath:path] error:&error];
                if (error == nil) {
                        [audioSourcePlayer prepareToPlay];
                        audioSourcePlayer.delegate = self;
                        if (delegate && [delegate respondsToSelector:@selector(
      cdAudioSourceFileDidChange:)]) {
                                //Tell our delegate the file has changed
                                [delegate cdAudioSourceFileDidChange:self];
                        }
                } else {
                        CDLOG(@"Denshion::CDLongAudioSource - Error
       initialising audio player: %@",error);
                }
        } else {
                //Same file - just return it to a consistent state
                [self pause];
                [self rewind];
        }
        audioSourcePlayer.volume = mute ? 0.0f : volume;
        audioSourcePlayer.numberOfLoops = numberOfLoops;
        state = kLAS_Loaded;
}
\end{DoxyCode}
\hypertarget{interface_c_d_long_audio_source_a66db0e34e875823c4c0ea87b2036369c}{\index{C\-D\-Long\-Audio\-Source@{C\-D\-Long\-Audio\-Source}!pause@{pause}}
\index{pause@{pause}!CDLongAudioSource@{C\-D\-Long\-Audio\-Source}}
\subsubsection[{pause}]{\setlength{\rightskip}{0pt plus 5cm}-\/ (void) {\bf pause} 
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
}}\label{interface_c_d_long_audio_source_a66db0e34e875823c4c0ea87b2036369c}
Pauses the audio source 

Referenced by load\-:.


\begin{DoxyCode}
              {
        [audioSourcePlayer pause];
}
\end{DoxyCode}
\hypertarget{interface_c_d_long_audio_source_a2e2e9ba6cb50860a4ef8e310dc8eab65}{\index{C\-D\-Long\-Audio\-Source@{C\-D\-Long\-Audio\-Source}!play@{play}}
\index{play@{play}!CDLongAudioSource@{C\-D\-Long\-Audio\-Source}}
\subsubsection[{play}]{\setlength{\rightskip}{0pt plus 5cm}-\/ (void) {\bf play} 
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
}}\label{interface_c_d_long_audio_source_a2e2e9ba6cb50860a4ef8e310dc8eab65}
Plays the audio source 
\begin{DoxyCode}
             {
        if (enabled_) {
                self->systemPaused = NO;
                [audioSourcePlayer play];
        } else {
                CDLOGINFO(@"Denshion::CDLongAudioSource long audio source
       didn't play because it is disabled");
        }
}
\end{DoxyCode}
\hypertarget{interface_c_d_long_audio_source_a0cbc59ea523580c5e5338063b7a0df5f}{\index{C\-D\-Long\-Audio\-Source@{C\-D\-Long\-Audio\-Source}!resume@{resume}}
\index{resume@{resume}!CDLongAudioSource@{C\-D\-Long\-Audio\-Source}}
\subsubsection[{resume}]{\setlength{\rightskip}{0pt plus 5cm}-\/ (void) {\bf resume} 
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
}}\label{interface_c_d_long_audio_source_a0cbc59ea523580c5e5338063b7a0df5f}
Resumes playing the audio source if it was paused 

Referenced by C\-D\-Audio\-Manager\-::application\-Did\-Become\-Active.


\begin{DoxyCode}
               {
        [audioSourcePlayer play];
}
\end{DoxyCode}
\hypertarget{interface_c_d_long_audio_source_a2641a580b551bbd9e3ae8473af697284}{\index{C\-D\-Long\-Audio\-Source@{C\-D\-Long\-Audio\-Source}!rewind@{rewind}}
\index{rewind@{rewind}!CDLongAudioSource@{C\-D\-Long\-Audio\-Source}}
\subsubsection[{rewind}]{\setlength{\rightskip}{0pt plus 5cm}-\/ (void) {\bf rewind} 
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
}}\label{interface_c_d_long_audio_source_a2641a580b551bbd9e3ae8473af697284}
Rewinds the audio source 

Referenced by load\-:.


\begin{DoxyCode}
               {
        [audioSourcePlayer setCurrentTime:0];
}
\end{DoxyCode}
\hypertarget{interface_c_d_long_audio_source_ae77879d7c0e770cf58f8b8fb27cc29d4}{\index{C\-D\-Long\-Audio\-Source@{C\-D\-Long\-Audio\-Source}!stop@{stop}}
\index{stop@{stop}!CDLongAudioSource@{C\-D\-Long\-Audio\-Source}}
\subsubsection[{stop}]{\setlength{\rightskip}{0pt plus 5cm}-\/ (void) {\bf stop} 
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
}}\label{interface_c_d_long_audio_source_ae77879d7c0e770cf58f8b8fb27cc29d4}
Stops playing the audio soruce 

Referenced by C\-D\-Audio\-Manager\-::application\-Will\-Resign\-Active.


\begin{DoxyCode}
             {
        [audioSourcePlayer stop];
}
\end{DoxyCode}


The documentation for this class was generated from the following files\-:\begin{DoxyCompactItemize}
\item 
/\-Bing/\-File/cocos2d/cocos2d-\/iphone/cocos2d-\/iphone-\/2.\-1-\/beta4/\-Cocos\-Denshion/\-Cocos\-Denshion/C\-D\-Audio\-Manager.\-h\item 
/\-Bing/\-File/cocos2d/cocos2d-\/iphone/cocos2d-\/iphone-\/2.\-1-\/beta4/\-Cocos\-Denshion/\-Cocos\-Denshion/C\-D\-Audio\-Manager.\-m\end{DoxyCompactItemize}
