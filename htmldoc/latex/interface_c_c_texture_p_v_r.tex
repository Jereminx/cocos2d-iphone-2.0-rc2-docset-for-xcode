\hypertarget{interface_c_c_texture_p_v_r}{\section{C\-C\-Texture\-P\-V\-R Class Reference}
\label{interface_c_c_texture_p_v_r}\index{C\-C\-Texture\-P\-V\-R@{C\-C\-Texture\-P\-V\-R}}
}


{\ttfamily \#import $<$C\-C\-Texture\-P\-V\-R.\-h$>$}

Inheritance diagram for C\-C\-Texture\-P\-V\-R\-:\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[height=2.000000cm]{interface_c_c_texture_p_v_r}
\end{center}
\end{figure}
\subsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
(id) -\/ \hyperlink{interface_c_c_texture_p_v_r_a58b55d2450e67b28ea4468d7282d4fea}{init\-With\-Contents\-Of\-File\-:}
\item 
(id) -\/ \hyperlink{interface_c_c_texture_p_v_r_a9b66c0ace5148c2655924f968b68a628}{init\-With\-Contents\-Of\-U\-R\-L\-:}
\end{DoxyCompactItemize}
\subsection*{Static Public Member Functions}
\begin{DoxyCompactItemize}
\item 
(id) + \hyperlink{interface_c_c_texture_p_v_r_aa686c345455353e7b465569901ec854f}{pvr\-Texture\-With\-Contents\-Of\-File\-:}
\item 
(id) + \hyperlink{interface_c_c_texture_p_v_r_a3443f0a73727a62647899082d0e3602e}{pvr\-Texture\-With\-Contents\-Of\-U\-R\-L\-:}
\end{DoxyCompactItemize}
\subsection*{Protected Attributes}
\begin{DoxyCompactItemize}
\item 
\hypertarget{interface_c_c_texture_p_v_r_aecd1f046efe2668a73ec2999b25f7968}{struct \hyperlink{struct_c_c_p_v_r_mipmap}{C\-C\-P\-V\-R\-Mipmap} {\bfseries mipmaps\-\_\-} \mbox{[}C\-C\-\_\-\-P\-V\-R\-M\-I\-P\-M\-A\-P\-\_\-\-M\-A\-X\mbox{]}}\label{interface_c_c_texture_p_v_r_aecd1f046efe2668a73ec2999b25f7968}

\item 
\hypertarget{interface_c_c_texture_p_v_r_a82252310b5a96299491a6cab40dae7b9}{N\-S\-U\-Integer {\bfseries number\-Of\-Mipmaps\-\_\-}}\label{interface_c_c_texture_p_v_r_a82252310b5a96299491a6cab40dae7b9}

\item 
\hypertarget{interface_c_c_texture_p_v_r_aa4d9ab9e29b70f9c623827fd4c1473b0}{uint32\-\_\-t {\bfseries width\-\_\-}}\label{interface_c_c_texture_p_v_r_aa4d9ab9e29b70f9c623827fd4c1473b0}

\item 
\hypertarget{interface_c_c_texture_p_v_r_a59a14d8aa26c048f2c482c17c120af2b}{uint32\-\_\-t {\bfseries height\-\_\-}}\label{interface_c_c_texture_p_v_r_a59a14d8aa26c048f2c482c17c120af2b}

\item 
\hypertarget{interface_c_c_texture_p_v_r_aef8db332a21b73e7895641b7861b9ff3}{G\-Luint {\bfseries name\-\_\-}}\label{interface_c_c_texture_p_v_r_aef8db332a21b73e7895641b7861b9ff3}

\item 
\hypertarget{interface_c_c_texture_p_v_r_ab6ff3b9b12d8d54d2d463a17fd66117e}{B\-O\-O\-L {\bfseries has\-Alpha\-\_\-}}\label{interface_c_c_texture_p_v_r_ab6ff3b9b12d8d54d2d463a17fd66117e}

\item 
\hypertarget{interface_c_c_texture_p_v_r_ac831ad2e53b2d41a8487e9c24bb20255}{B\-O\-O\-L {\bfseries retain\-Name\-\_\-}}\label{interface_c_c_texture_p_v_r_ac831ad2e53b2d41a8487e9c24bb20255}

\item 
\hypertarget{interface_c_c_texture_p_v_r_a61c3cf8dd7cc8a17e04f9e3a9a3c8f7f}{C\-C\-Texture2\-D\-Pixel\-Format {\bfseries format\-\_\-}}\label{interface_c_c_texture_p_v_r_a61c3cf8dd7cc8a17e04f9e3a9a3c8f7f}

\item 
\hypertarget{interface_c_c_texture_p_v_r_afd3457c1634a466142c09b6467b9a261}{const \hyperlink{struct__cc_p_v_r_texture_pixel_format_info}{cc\-P\-V\-R\-Texture\-Pixel\-Format\-Info} $\ast$ {\bfseries \-\_\-pixel\-Format\-Info}}\label{interface_c_c_texture_p_v_r_afd3457c1634a466142c09b6467b9a261}

\end{DoxyCompactItemize}
\subsection*{Properties}
\begin{DoxyCompactItemize}
\item 
G\-Luint \hyperlink{interface_c_c_texture_p_v_r_ac3b91de15322c3eabf041316595287bf}{name}
\item 
uint32\-\_\-t \hyperlink{interface_c_c_texture_p_v_r_a6888f6b09a2bfdc4b2017fa440e6efe2}{width}
\item 
uint32\-\_\-t \hyperlink{interface_c_c_texture_p_v_r_ac2bec2560bd2449e7d23d7ef843e37dc}{height}
\item 
B\-O\-O\-L \hyperlink{interface_c_c_texture_p_v_r_ae72c73a2de4c7c8db4484164a5e7c1ff}{has\-Alpha}
\item 
N\-S\-U\-Integer \hyperlink{interface_c_c_texture_p_v_r_ae6f06946b28736a3185a4b7a2bbbe92a}{number\-Of\-Mipmaps}
\item 
\hypertarget{interface_c_c_texture_p_v_r_ab810e8f17eac7fd8554f6e2713edf396}{B\-O\-O\-L {\bfseries retain\-Name}}\label{interface_c_c_texture_p_v_r_ab810e8f17eac7fd8554f6e2713edf396}

\item 
\hypertarget{interface_c_c_texture_p_v_r_a4588d5abe28978a09fe9242ba2e9da20}{C\-C\-Texture2\-D\-Pixel\-Format {\bfseries format}}\label{interface_c_c_texture_p_v_r_a4588d5abe28978a09fe9242ba2e9da20}

\end{DoxyCompactItemize}


\subsection{Detailed Description}
\hyperlink{interface_c_c_texture_p_v_r}{C\-C\-Texture\-P\-V\-R}

Object that loads P\-V\-R images.

Supported P\-V\-R formats\-:
\begin{DoxyItemize}
\item R\-G\-B\-A8888
\item B\-G\-R\-A8888
\item R\-G\-B\-A4444
\item R\-G\-B\-A5551
\item R\-G\-B565
\item A8
\item I8
\item A\-I88
\item P\-V\-R\-T\-C 4\-B\-P\-P
\item P\-V\-R\-T\-C 2\-B\-P\-P
\end{DoxyItemize}

Limitations\-: Pre-\/generated mipmaps, such as P\-V\-R textures with mipmap levels embedded in file, are only supported if all individual sprites are of {\itshape square\/} size. To use mipmaps with non-\/square textures, instead call \hyperlink{class_c_c_texture2_d_a4b5fdc85363ee66f65d39a9e1f3489d0}{generate\-Mipmap (\-C\-C\-Texture2\-D)} on the sheet texture itself (and to save space, save the P\-V\-R sprite sheet without mip maps included). 

\subsection{Member Function Documentation}
\hypertarget{interface_c_c_texture_p_v_r_a58b55d2450e67b28ea4468d7282d4fea}{\index{C\-C\-Texture\-P\-V\-R@{C\-C\-Texture\-P\-V\-R}!init\-With\-Contents\-Of\-File\-:@{init\-With\-Contents\-Of\-File\-:}}
\index{init\-With\-Contents\-Of\-File\-:@{init\-With\-Contents\-Of\-File\-:}!CCTexturePVR@{C\-C\-Texture\-P\-V\-R}}
\subsubsection[{init\-With\-Contents\-Of\-File\-:}]{\setlength{\rightskip}{0pt plus 5cm}-\/ (id) {\bf init\-With\-Contents\-Of\-File\-:} 
\begin{DoxyParamCaption}
\item[{(N\-S\-String $\ast$)}]{path}
\end{DoxyParamCaption}
}}\label{interface_c_c_texture_p_v_r_a58b55d2450e67b28ea4468d7282d4fea}
initializes a \hyperlink{interface_c_c_texture_p_v_r}{C\-C\-Texture\-P\-V\-R} with a path 

Referenced by init\-With\-Contents\-Of\-U\-R\-L\-:.


\begin{DoxyCode}
                            :(NSString *)path
{
        if((self = [super init]))
        {
                unsigned char *pvrdata = NULL;
                NSInteger pvrlen = 0;
                NSString *lowerCase = [path lowercaseString];

        if ( [lowerCase hasSuffix:@".ccz"])
                        pvrlen = ccInflateCCZFile( [path UTF8String], &pvrdata 
      );

                else if( [lowerCase hasSuffix:@".gz"] )
                        pvrlen = ccInflateGZipFile( [path UTF8String], &pvrdata
       );

                else
                        pvrlen = ccLoadFileIntoMemory( [path UTF8String], &
      pvrdata );

                if( pvrlen < 0 ) {
                        [self release];
                        return nil;
                }


        numberOfMipmaps_ = 0;

                name_ = 0;
                width_ = height_ = 0;
                hasAlpha_ = FALSE;
                _pixelFormatInfo = NULL;

                retainName_ = NO; // cocos2d integration
                
                
                if( ! (([self unpackPVRv2Data:pvrdata PVRLen:pvrlen] || [self 
      unpackPVRv3Data:pvrdata PVRLen:pvrlen]) &&
                   [self createGLTexture] ) )
                {
                        free(pvrdata);
                        [self release];
                        return nil;
                }
                
#if defined(__CC_PLATFORM_IOS) && defined(DEBUG)

                GLenum pixelFormat = _pixelFormatInfo->ccPixelFormat;
                CCConfiguration *conf = [CCConfiguration sharedConfiguration];
                
                if( [conf OSVersion] >= kCCiOSVersion_5_0 )
                {
                        
                        // iOS 5 BUG:
                        // RGB888 textures allocate much more memory than
       needed on iOS 5
                        // http://www.cocos2d-iphone.org/forum/topic/31092
                        
                        if( pixelFormat == kCCTexture2DPixelFormat_RGB888 ) {
                                printf("\n");
                                NSLog(@"cocos2d: WARNING. Using RGB888 texture.
       Convert it to RGB565 or RGBA8888 in order to reduce memory");
                                NSLog(@"cocos2d: WARNING: File: %@", [path 
      lastPathComponent] );
                                NSLog(@"cocos2d: WARNING: For furhter info
       visit: http://www.cocos2d-iphone.org/forum/topic/31092");
                                printf("\n");
                        }

                        
                        else if( width_ != ccNextPOT(width_) ) {
                                
                                // XXX: Is this applicable for compressed
       textures ?
                                // Since they are squared and POT (PVRv2) it is
       not an issue now. Not sure in the future.
                                
                                // iOS 5 BUG:
                                // If width is not word aligned, then log
       warning.
                                //
       http://www.cocos2d-iphone.org/forum/topic/31092
                                

                                NSUInteger bpp = [CCTexture2D 
      bitsPerPixelForFormat:pixelFormat];
                                NSUInteger bytes = width_ * bpp / 8;

                                // XXX: Should it be 4 or sizeof(int) ??
                                NSUInteger mod = bytes % 4;
                                
                                // Not word aligned ?
                                if( mod != 0 ) {

                                        NSUInteger neededBytes = (4 - mod ) / (
      bpp/8);
                                        printf("\n");
                                        NSLog(@"cocos2d: WARNING. Current
       texture size=(%d,%d). Convert it to size=(%d,%d) in order to save memory", width_, 
      height_, width_ + neededBytes, height_ );
                                        NSLog(@"cocos2d: WARNING: File: %@", [
      path lastPathComponent] );
                                        NSLog(@"cocos2d: WARNING: For furhter
       info visit: http://www.cocos2d-iphone.org/forum/topic/31092");
                                        printf("\n");
                                }
                        }
                }
#endif // iOS
                


                free(pvrdata);
        }

        return self;
}
\end{DoxyCode}
\hypertarget{interface_c_c_texture_p_v_r_a9b66c0ace5148c2655924f968b68a628}{\index{C\-C\-Texture\-P\-V\-R@{C\-C\-Texture\-P\-V\-R}!init\-With\-Contents\-Of\-U\-R\-L\-:@{init\-With\-Contents\-Of\-U\-R\-L\-:}}
\index{init\-With\-Contents\-Of\-U\-R\-L\-:@{init\-With\-Contents\-Of\-U\-R\-L\-:}!CCTexturePVR@{C\-C\-Texture\-P\-V\-R}}
\subsubsection[{init\-With\-Contents\-Of\-U\-R\-L\-:}]{\setlength{\rightskip}{0pt plus 5cm}-\/ (id) {\bf init\-With\-Contents\-Of\-U\-R\-L\-:} 
\begin{DoxyParamCaption}
\item[{(N\-S\-U\-R\-L $\ast$)}]{url}
\end{DoxyParamCaption}
}}\label{interface_c_c_texture_p_v_r_a9b66c0ace5148c2655924f968b68a628}
initializes a \hyperlink{interface_c_c_texture_p_v_r}{C\-C\-Texture\-P\-V\-R} with an U\-R\-L 
\begin{DoxyCode}
                           :(NSURL *)url
{
        if (![url isFileURL])
        {
                CCLOG(@"cocos2d: CCPVRTexture: Only files are supported");
                [self release];
                return nil;
        }

        return [self initWithContentsOfFile:[url path]];
}
\end{DoxyCode}
\hypertarget{interface_c_c_texture_p_v_r_aa686c345455353e7b465569901ec854f}{\index{C\-C\-Texture\-P\-V\-R@{C\-C\-Texture\-P\-V\-R}!pvr\-Texture\-With\-Contents\-Of\-File\-:@{pvr\-Texture\-With\-Contents\-Of\-File\-:}}
\index{pvr\-Texture\-With\-Contents\-Of\-File\-:@{pvr\-Texture\-With\-Contents\-Of\-File\-:}!CCTexturePVR@{C\-C\-Texture\-P\-V\-R}}
\subsubsection[{pvr\-Texture\-With\-Contents\-Of\-File\-:}]{\setlength{\rightskip}{0pt plus 5cm}+ (id) {\bf pvr\-Texture\-With\-Contents\-Of\-File\-:} 
\begin{DoxyParamCaption}
\item[{(N\-S\-String $\ast$)}]{path}
\end{DoxyParamCaption}
}}\label{interface_c_c_texture_p_v_r_aa686c345455353e7b465569901ec854f}
creates and initializes a \hyperlink{interface_c_c_texture_p_v_r}{C\-C\-Texture\-P\-V\-R} with a path 

Referenced by pvr\-Texture\-With\-Contents\-Of\-U\-R\-L\-:.


\begin{DoxyCode}
                                  :(NSString *)path
{
        return [[[self alloc] initWithContentsOfFile:path] autorelease];
}
\end{DoxyCode}
\hypertarget{interface_c_c_texture_p_v_r_a3443f0a73727a62647899082d0e3602e}{\index{C\-C\-Texture\-P\-V\-R@{C\-C\-Texture\-P\-V\-R}!pvr\-Texture\-With\-Contents\-Of\-U\-R\-L\-:@{pvr\-Texture\-With\-Contents\-Of\-U\-R\-L\-:}}
\index{pvr\-Texture\-With\-Contents\-Of\-U\-R\-L\-:@{pvr\-Texture\-With\-Contents\-Of\-U\-R\-L\-:}!CCTexturePVR@{C\-C\-Texture\-P\-V\-R}}
\subsubsection[{pvr\-Texture\-With\-Contents\-Of\-U\-R\-L\-:}]{\setlength{\rightskip}{0pt plus 5cm}+ (id) {\bf pvr\-Texture\-With\-Contents\-Of\-U\-R\-L\-:} 
\begin{DoxyParamCaption}
\item[{(N\-S\-U\-R\-L $\ast$)}]{url}
\end{DoxyParamCaption}
}}\label{interface_c_c_texture_p_v_r_a3443f0a73727a62647899082d0e3602e}
creates and initializes a \hyperlink{interface_c_c_texture_p_v_r}{C\-C\-Texture\-P\-V\-R} with an U\-R\-L 
\begin{DoxyCode}
                                 :(NSURL *)url
{
        if (![url isFileURL])
                return nil;

        return [CCTexturePVR pvrTextureWithContentsOfFile:[url path]];
}
\end{DoxyCode}


\subsection{Property Documentation}
\hypertarget{interface_c_c_texture_p_v_r_ae72c73a2de4c7c8db4484164a5e7c1ff}{\index{C\-C\-Texture\-P\-V\-R@{C\-C\-Texture\-P\-V\-R}!has\-Alpha@{has\-Alpha}}
\index{has\-Alpha@{has\-Alpha}!CCTexturePVR@{C\-C\-Texture\-P\-V\-R}}
\subsubsection[{has\-Alpha}]{\setlength{\rightskip}{0pt plus 5cm}-\/ (B\-O\-O\-L) {\bf has\-Alpha}\hspace{0.3cm}{\ttfamily  \mbox{[}read, assign\mbox{]}}}}\label{interface_c_c_texture_p_v_r_ae72c73a2de4c7c8db4484164a5e7c1ff}
whether or not the texture has alpha \hypertarget{interface_c_c_texture_p_v_r_ac2bec2560bd2449e7d23d7ef843e37dc}{\index{C\-C\-Texture\-P\-V\-R@{C\-C\-Texture\-P\-V\-R}!height@{height}}
\index{height@{height}!CCTexturePVR@{C\-C\-Texture\-P\-V\-R}}
\subsubsection[{height}]{\setlength{\rightskip}{0pt plus 5cm}-\/ (uint32\-\_\-t) {\bf height}\hspace{0.3cm}{\ttfamily  \mbox{[}read, assign\mbox{]}}}}\label{interface_c_c_texture_p_v_r_ac2bec2560bd2449e7d23d7ef843e37dc}
texture height \hypertarget{interface_c_c_texture_p_v_r_ac3b91de15322c3eabf041316595287bf}{\index{C\-C\-Texture\-P\-V\-R@{C\-C\-Texture\-P\-V\-R}!name@{name}}
\index{name@{name}!CCTexturePVR@{C\-C\-Texture\-P\-V\-R}}
\subsubsection[{name}]{\setlength{\rightskip}{0pt plus 5cm}-\/ (G\-Luint) {\bf name}\hspace{0.3cm}{\ttfamily  \mbox{[}read, assign\mbox{]}}}}\label{interface_c_c_texture_p_v_r_ac3b91de15322c3eabf041316595287bf}
texture id name \hypertarget{interface_c_c_texture_p_v_r_ae6f06946b28736a3185a4b7a2bbbe92a}{\index{C\-C\-Texture\-P\-V\-R@{C\-C\-Texture\-P\-V\-R}!number\-Of\-Mipmaps@{number\-Of\-Mipmaps}}
\index{number\-Of\-Mipmaps@{number\-Of\-Mipmaps}!CCTexturePVR@{C\-C\-Texture\-P\-V\-R}}
\subsubsection[{number\-Of\-Mipmaps}]{\setlength{\rightskip}{0pt plus 5cm}-\/ (N\-S\-U\-Integer) {\bf number\-Of\-Mipmaps}\hspace{0.3cm}{\ttfamily  \mbox{[}read, assign\mbox{]}}}}\label{interface_c_c_texture_p_v_r_ae6f06946b28736a3185a4b7a2bbbe92a}
how many mipmaps the texture has. 1 means one level (level 0 \hypertarget{interface_c_c_texture_p_v_r_a6888f6b09a2bfdc4b2017fa440e6efe2}{\index{C\-C\-Texture\-P\-V\-R@{C\-C\-Texture\-P\-V\-R}!width@{width}}
\index{width@{width}!CCTexturePVR@{C\-C\-Texture\-P\-V\-R}}
\subsubsection[{width}]{\setlength{\rightskip}{0pt plus 5cm}-\/ (uint32\-\_\-t) {\bf width}\hspace{0.3cm}{\ttfamily  \mbox{[}read, assign\mbox{]}}}}\label{interface_c_c_texture_p_v_r_a6888f6b09a2bfdc4b2017fa440e6efe2}
texture width 

The documentation for this class was generated from the following files\-:\begin{DoxyCompactItemize}
\item 
/\-Bing/\-File/cocos2d/cocos2d-\/iphone/cocos2d-\/iphone-\/2.\-1-\/beta4/cocos2d/C\-C\-Texture\-P\-V\-R.\-h\item 
/\-Bing/\-File/cocos2d/cocos2d-\/iphone/cocos2d-\/iphone-\/2.\-1-\/beta4/cocos2d/C\-C\-Texture\-P\-V\-R.\-m\end{DoxyCompactItemize}
