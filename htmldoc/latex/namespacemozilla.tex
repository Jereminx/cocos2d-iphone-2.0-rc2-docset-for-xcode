\hypertarget{namespacemozilla}{\section{mozilla Namespace Reference}
\label{namespacemozilla}\index{mozilla@{mozilla}}
}
\subsection*{Classes}
\begin{DoxyCompactItemize}
\item 
class \hyperlink{classmozilla_1_1_bloom_filter}{Bloom\-Filter}
\item 
class \hyperlink{classmozilla_1_1_checked_int}{Checked\-Int}
\begin{DoxyCompactList}\small\item\em Integer wrapper class checking for integer overflow and other errors. \end{DoxyCompactList}\item 
class \hyperlink{classmozilla_1_1_ranged_ptr}{Ranged\-Ptr}
\item 
class \hyperlink{classmozilla_1_1_ref_counted}{Ref\-Counted}
\item 
class \hyperlink{classmozilla_1_1_ref_ptr}{Ref\-Ptr}
\item 
class \hyperlink{classmozilla_1_1_temporary_ref}{Temporary\-Ref}
\item 
class \hyperlink{classmozilla_1_1_out_param_ref}{Out\-Param\-Ref}
\item 
class \hyperlink{classmozilla_1_1_scoped}{Scoped}
\item 
struct \hyperlink{structmozilla_1_1_scoped_free_ptr_traits}{Scoped\-Free\-Ptr\-Traits}
\item 
struct \hyperlink{structmozilla_1_1_scoped_delete_ptr_traits}{Scoped\-Delete\-Ptr\-Traits}
\item 
struct \hyperlink{structmozilla_1_1_scoped_delete_array_traits}{Scoped\-Delete\-Array\-Traits}
\item 
class \hyperlink{classmozilla_1_1_s_h_a1_sum}{S\-H\-A1\-Sum}
\item 
class \hyperlink{classmozilla_1_1_thread_local}{Thread\-Local}
\item 
class \hyperlink{classmozilla_1_1_is_base_of}{Is\-Base\-Of}
\item 
struct \hyperlink{structmozilla_1_1_is_convertible}{Is\-Convertible}
\item 
struct \hyperlink{structmozilla_1_1_conditional}{Conditional}
\item 
struct \hyperlink{structmozilla_1_1_conditional_3_01false_00_01_a_00_01_b_01_4}{Conditional$<$ false, A, B $>$}
\item 
struct \hyperlink{structmozilla_1_1_enable_if}{Enable\-If}
\item 
struct \hyperlink{structmozilla_1_1_enable_if_3_01true_00_01_t_01_4}{Enable\-If$<$ true, T $>$}
\item 
class \hyperlink{classmozilla_1_1_supports_weak_ptr}{Supports\-Weak\-Ptr}
\item 
class \hyperlink{classmozilla_1_1_weak_ptr}{Weak\-Ptr}
\end{DoxyCompactItemize}
\subsection*{Typedefs}
\begin{DoxyCompactItemize}
\item 
\hypertarget{namespacemozilla_a8fdfe8a59f6772da995013ad243d786f}{typedef \hyperlink{classmozilla_1_1_checked_int}{Checked\-Int}$<$ int8\-\_\-t $>$ {\bfseries Checked\-Int8}}\label{namespacemozilla_a8fdfe8a59f6772da995013ad243d786f}

\item 
\hypertarget{namespacemozilla_ab68a644a82b3770fde15303e0b6e0101}{typedef \hyperlink{classmozilla_1_1_checked_int}{Checked\-Int}$<$ uint8\-\_\-t $>$ {\bfseries Checked\-Uint8}}\label{namespacemozilla_ab68a644a82b3770fde15303e0b6e0101}

\item 
\hypertarget{namespacemozilla_a80ec60f81590b954a0a1f6f92520cb00}{typedef \hyperlink{classmozilla_1_1_checked_int}{Checked\-Int}$<$ int16\-\_\-t $>$ {\bfseries Checked\-Int16}}\label{namespacemozilla_a80ec60f81590b954a0a1f6f92520cb00}

\item 
\hypertarget{namespacemozilla_a86d46a5a2113b4051a07498036bdcd95}{typedef \hyperlink{classmozilla_1_1_checked_int}{Checked\-Int}$<$ uint16\-\_\-t $>$ {\bfseries Checked\-Uint16}}\label{namespacemozilla_a86d46a5a2113b4051a07498036bdcd95}

\item 
\hypertarget{namespacemozilla_a9fe6958baa07767b22979ea983c91fc1}{typedef \hyperlink{classmozilla_1_1_checked_int}{Checked\-Int}$<$ int32\-\_\-t $>$ {\bfseries Checked\-Int32}}\label{namespacemozilla_a9fe6958baa07767b22979ea983c91fc1}

\item 
\hypertarget{namespacemozilla_a363535f24ef153094f4337a00d141c16}{typedef \hyperlink{classmozilla_1_1_checked_int}{Checked\-Int}$<$ uint32\-\_\-t $>$ {\bfseries Checked\-Uint32}}\label{namespacemozilla_a363535f24ef153094f4337a00d141c16}

\item 
\hypertarget{namespacemozilla_af48679e641d56e66adae0ba532b6e76f}{typedef \hyperlink{classmozilla_1_1_checked_int}{Checked\-Int}$<$ int64\-\_\-t $>$ {\bfseries Checked\-Int64}}\label{namespacemozilla_af48679e641d56e66adae0ba532b6e76f}

\item 
\hypertarget{namespacemozilla_aa949fd8ce92c89e0c1eb3856821b3289}{typedef \hyperlink{classmozilla_1_1_checked_int}{Checked\-Int}$<$ uint64\-\_\-t $>$ {\bfseries Checked\-Uint64}}\label{namespacemozilla_aa949fd8ce92c89e0c1eb3856821b3289}

\item 
\hypertarget{namespacemozilla_a17bbea4c156c300fe73caa2cde806c45}{typedef sig\-\_\-atomic\-\_\-t {\bfseries sig\-\_\-safe\-\_\-t}}\label{namespacemozilla_a17bbea4c156c300fe73caa2cde806c45}

\end{DoxyCompactItemize}
\subsection*{Functions}
\begin{DoxyCompactItemize}
\item 
\hypertarget{namespacemozilla_a1e6ea5e150eb95a7eefe09fbb8c8c598}{{\footnotesize template$<$typename T , typename U $>$ }\\\hyperlink{structmozilla_1_1detail_1_1_cast_to_checked_int_impl}{detail\-::\-Cast\-To\-Checked\-Int\-Impl}\\*
$<$ T, U $>$\-::Return\-Type {\bfseries cast\-To\-Checked\-Int} (U u)}\label{namespacemozilla_a1e6ea5e150eb95a7eefe09fbb8c8c598}

\item 
\hypertarget{namespacemozilla_a3b5997be3b637fe0050a7fc8b5f56a13}{{\footnotesize template$<$typename T , typename U $>$ }\\bool {\bfseries operator==} (const \hyperlink{classmozilla_1_1_checked_int}{Checked\-Int}$<$ T $>$ \&lhs, U rhs)}\label{namespacemozilla_a3b5997be3b637fe0050a7fc8b5f56a13}

\item 
\hypertarget{namespacemozilla_ad7fb2dd361a971497a642f1689e0caf2}{{\footnotesize template$<$typename T , typename U $>$ }\\bool {\bfseries operator==} (U lhs, const \hyperlink{classmozilla_1_1_checked_int}{Checked\-Int}$<$ T $>$ \&rhs)}\label{namespacemozilla_ad7fb2dd361a971497a642f1689e0caf2}

\item 
\hypertarget{namespacemozilla_a138e186bfad4b6e7e53976a92e987b04}{{\footnotesize template$<$typename Integer\-Type $>$ }\\M\-O\-Z\-\_\-\-A\-L\-W\-A\-Y\-S\-\_\-\-I\-N\-L\-I\-N\-E Integer\-Type {\bfseries Euclid\-G\-C\-D} (Integer\-Type a, Integer\-Type b)}\label{namespacemozilla_a138e186bfad4b6e7e53976a92e987b04}

\item 
\hypertarget{namespacemozilla_a4877825eb958e89996092744b9cfe8f3}{{\footnotesize template$<$typename Integer\-Type $>$ }\\M\-O\-Z\-\_\-\-A\-L\-W\-A\-Y\-S\-\_\-\-I\-N\-L\-I\-N\-E Integer\-Type {\bfseries Euclid\-L\-C\-M} (Integer\-Type a, Integer\-Type b)}\label{namespacemozilla_a4877825eb958e89996092744b9cfe8f3}

\item 
{\footnotesize template$<$typename T $>$ }\\\hyperlink{classmozilla_1_1_out_param_ref}{Out\-Param\-Ref}$<$ T $>$ \hyperlink{namespacemozilla_aaeea387234877fbae7d87788c2b9a507}{by\-Ref} (\hyperlink{classmozilla_1_1_ref_ptr}{Ref\-Ptr}$<$ T $>$ \&)
\end{DoxyCompactItemize}


\subsection{Detailed Description}
\hyperlink{classmozilla_1_1_supports_weak_ptr}{Supports\-Weak\-Ptr} lets you have a pointer to an object 'Foo' without affecting its lifetime. It works by creating a single shared reference counted object (Weak\-Reference) that each \hyperlink{classmozilla_1_1_weak_ptr}{Weak\-Ptr} will access 'Foo' through. This lets 'Foo' clear the pointer in the Weak\-Reference without having to know about all of the Weak\-Ptrs to it and allows the Weak\-Reference to live beyond the lifetime of 'Foo'.

The overhead of \hyperlink{classmozilla_1_1_weak_ptr}{Weak\-Ptr} is that accesses to 'Foo' becomes an additional dereference, and an additional heap allocated pointer sized object shared between all of the Weak\-Ptrs.

Example of usage\-:

// To have a class C support weak pointers, inherit from Supports\-Weak\-Ptr$<$\-C$>$. class C \-: public Supports\-Weak\-Ptr$<$\-C$>$ \{ public\-: int num; void act(); \};

C$\ast$ ptr = new C();

// Get weak pointers to ptr. The first time as\-Weak\-Ptr is called // a reference counted Weak\-Reference object is created that // can live beyond the lifetime of 'ptr'. The Weak\-Reference // object will be notified of 'ptr's destruction. Weak\-Ptr$<$\-C$>$ weak = ptr-\/$>$as\-Weak\-Ptr(); Weak\-Ptr$<$\-C$>$ other = ptr-\/$>$as\-Weak\-Ptr();

// \hyperlink{class_test}{Test} a weak pointer for validity before using it. if (weak) \{ weak-\/$>$num = 17; weak-\/$>$act(); \}

// Destroying the underlying object clears weak pointers to it. delete ptr;

M\-O\-Z\-\_\-\-A\-S\-S\-E\-R\-T(!weak, \char`\"{}\-Deleting $|$ptr$|$ clears weak pointers to it.\char`\"{}); M\-O\-Z\-\_\-\-A\-S\-S\-E\-R\-T(!other, \char`\"{}\-Deleting $|$ptr$|$ clears all weak pointers to it.\char`\"{});

\hyperlink{classmozilla_1_1_weak_ptr}{Weak\-Ptr} is typesafe and may be used with any class. It is not required that the class be reference-\/counted or allocated in any particular way.

The A\-P\-I was loosely inspired by Chromium's weak\-\_\-ptr.\-h\-: \href{http://src.chromium.org/svn/trunk/src/base/memory/weak_ptr.h}{\tt http\-://src.\-chromium.\-org/svn/trunk/src/base/memory/weak\-\_\-ptr.\-h} 

\subsection{Function Documentation}
\hypertarget{namespacemozilla_aaeea387234877fbae7d87788c2b9a507}{\index{mozilla@{mozilla}!by\-Ref@{by\-Ref}}
\index{by\-Ref@{by\-Ref}!mozilla@{mozilla}}
\subsubsection[{by\-Ref}]{\setlength{\rightskip}{0pt plus 5cm}template$<$typename T $>$ {\bf Out\-Param\-Ref}$<$ T $>$ {\bf mozilla\-::by\-Ref} (
\begin{DoxyParamCaption}
\item[{{\bf Ref\-Ptr}$<$ T $>$ \&}]{ptr}
\end{DoxyParamCaption}
)}}\label{namespacemozilla_aaeea387234877fbae7d87788c2b9a507}
by\-Ref cooperates with \hyperlink{classmozilla_1_1_out_param_ref}{Out\-Param\-Ref} to implement C\-O\-M outparam semantics. 
\begin{DoxyCode}
{
  return OutParamRef<T>(ptr);
}
\end{DoxyCode}
